webpackJsonp([17],{0:function(q,n,a){a(2324);a(699);a(215);a(356);a(358);a(693);a(706);a(694);a(695);a(698);a(357);a(691);a(499);a(386);a(498);a(697);a(696);a(700);a(701);a(702);a(703);a(704);a(705);a(707)},8:function(q,n,a){n=new (a(201));q.exports=n},20:function(q,n,a){(function(a,h){q.exports=h()})(this,function(){function a(b,e){e&&(b.prototype=Object.create(e.prototype));b.prototype.constructor=b}function h(b){b.value=!1;return b}function k(b){b&&(b.value=!0)}function c(){}function d(b,e){e=
e||0;for(var s=Math.max(0,b.length-e),a=Array(s),y=0;y<s;y++)a[y]=b[y+e];return a}function f(b){void 0===b.size&&(b.size=b.__iterate(g));return b.size}function l(b,e){if("number"!==typeof e){var s=+e;if(""+s!==e)return NaN;e=s}return 0>e?f(b)+e:e}function g(){return!0}function t(b,e,s){return(0===b||void 0!==s&&b<=-s)&&(void 0===e||void 0!==s&&e>=s)}function r(b,e,s){return void 0===b?s:0>b?Math.max(0,e+b):void 0===e?b:Math.min(e,b)}function p(b){return v(b)?b:K(b)}function u(b){return E(b)?b:Z(b)}
function n(b){return q(b)?b:H(b)}function L(b){return v(b)&&!ma(b)?b:da(b)}function v(b){return!(!b||!b[Kb])}function E(b){return!(!b||!b[Lb])}function q(b){return!(!b||!b[Mb])}function ma(b){return E(b)||q(b)}function ea(b){return!(!b||!b[ua])}function A(b){this.next=b}function B(b,e,s,a){b=0===b?e:1===b?s:[e,s];a?a.value=b:a={value:b,done:!1};return a}function U(){return{value:void 0,done:!0}}function Qa(b){return b&&"function"===typeof b.next}function Ea(b){var e=db(b);return e&&e.call(b)}function db(b){b=
b&&(eb&&b[eb]||b[Nb]);if("function"===typeof b)return b}function K(b){if(null===b||void 0===b)b=Ra();else if(v(b))b=b.toSeq();else{var e=Ob(b)||"object"===typeof b&&new na(b);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+b);b=e}return b}function Z(b){return null===b||void 0===b?Ra().toKeyedSeq():v(b)?E(b)?b.toSeq():b.fromEntrySeq():Pb(b)}function H(b){return null===b||void 0===b?Ra():!v(b)?fb(b):E(b)?b.entrySeq():b.toIndexedSeq()}function da(b){return(null===
b||void 0===b?Ra():!v(b)?fb(b):E(b)?b.entrySeq():b).toSetSeq()}function fa(b){this._array=b;this.size=b.length}function na(b){var e=Object.keys(b);this._object=b;this._keys=e;this.size=e.length}function Fa(b){this._iterable=b;this.size=b.length||b.size}function Ga(b){this._iterator=b;this._iteratorCache=[]}function gb(b){return!(!b||!b[Qb])}function Ra(){return Rb||(Rb=new fa([]))}function Pb(b){var e=Array.isArray(b)?(new fa(b)).fromEntrySeq():Qa(b)?(new Ga(b)).fromEntrySeq():db(b)?(new Fa(b)).fromEntrySeq():
"object"===typeof b?new na(b):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+b);return e}function fb(b){var e=Ob(b);if(!e)throw new TypeError("Expected Array or iterable object of values: "+b);return e}function Ob(b){return b&&"number"===typeof b.length?new fa(b):Qa(b)?new Ga(b):db(b)?new Fa(b):void 0}function Sb(b,e,s,a){var y=b._cache;if(y){for(var c=y.length-1,d=0;d<=c;d++){var g=y[s?c-d:d];if(!1===e(g[1],a?g[0]:d,b))return d+1}return d}return b.__iterateUncached(e,
s)}function Tb(b,e,s,a){var y=b._cache;if(y){var c=y.length-1,d=0;return new A(function(){var b=y[s?c-d:d];return d++>c?U():B(e,a?b[0]:d-1,b[1])})}return b.__iteratorUncached(e,s)}function oa(){throw TypeError("Abstract");}function Ha(){}function va(){}function Sa(){}function M(b,e){if(b===e||b!==b&&e!==e)return!0;if(!b||!e)return!1;if("function"===typeof b.valueOf&&"function"===typeof e.valueOf){b=b.valueOf();e=e.valueOf();if(b===e||b!==b&&e!==e)return!0;if(!b||!e)return!1}return"function"===typeof b.equals&&
"function"===typeof e.equals&&b.equals(e)?!0:!1}function hb(b,e){return e?ib(e,b,"",{"":b}):jb(b)}function ib(b,e,s,a){return Array.isArray(e)?b.call(a,s,H(e).map(function(s,a){return ib(b,s,a,e)})):e&&(e.constructor===Object||void 0===e.constructor)?b.call(a,s,Z(e).map(function(s,a){return ib(b,s,a,e)})):e}function jb(b){return Array.isArray(b)?H(b).map(jb).toList():b&&(b.constructor===Object||void 0===b.constructor)?Z(b).map(jb).toMap():b}function V(b){if(!1===b||(null===b||void 0===b)||"function"===
typeof b.valueOf&&(b=b.valueOf(),!1===b||null===b||void 0===b))return 0;if(!0===b)return 1;var e=typeof b;if("number"===e){e=b|0;for(e!==b&&(e^=4294967295*b);4294967295<b;)b/=4294967295,e^=b;return e>>>1&1073741824|e&3221225471}return"string"===e?(b.length>Gc?(e=kb[b],void 0===e&&(e=Ub(b),lb===Hc&&(lb=0,kb={}),lb++,kb[b]=e),b=e):b=Ub(b),b):"function"===typeof b.hashCode?b.hashCode():Ic(b)}function Ub(b){for(var e=0,s=0;s<b.length;s++)e=31*e+b.charCodeAt(s)|0;return e>>>1&1073741824|e&3221225471}function Ic(b){var e;
if(mb&&(e=nb.get(b),void 0!==e))return e;e=b[ra];if(void 0!==e)return e;if(!Ta){e=b.propertyIsEnumerable&&b.propertyIsEnumerable[ra];if(void 0!==e)return e;a:{if(b&&0<b.nodeType)switch(b.nodeType){case 1:e=b.uniqueID;break a;case 9:e=b.documentElement&&b.documentElement.uniqueID;break a}e=void 0}if(void 0!==e)return e}e=++ob;ob&1073741824&&(ob=0);if(mb)nb.set(b,e);else{if(void 0!==Vb&&!1===Vb(b))throw Error("Non-extensible objects are not allowed as keys.");if(Ta)Object.defineProperty(b,ra,{enumerable:!1,
configurable:!1,writable:!1,value:e});else if(void 0!==b.propertyIsEnumerable&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[ra]=e;else if(void 0!==b.nodeType)b[ra]=e;else throw Error("Unable to set a non-enumerable property on object.");}return e}function Ua(b,e){if(!b)throw Error(e);}function W(b){Ua(Infinity!==b,"Cannot perform this action with an infinite size.")}
function $(b,e){this._iter=b;this._useKeys=e;this.size=b.size}function wa(b){this._iter=b;this.size=b.size}function xa(b){this._iter=b;this.size=b.size}function ya(b){this._iter=b;this.size=b.size}function Wb(b){var e=ga(b);e._iter=b;e.size=b.size;e.flip=function(){return b};e.reverse=function(){var e=b.reverse.apply(this);e.flip=function(){return b.reverse()};return e};e.has=function(e){return b.includes(e)};e.includes=function(e){return b.has(e)};e.cacheResult=pb;e.__iterateUncached=function(e,
a){var c=this;return b.__iterate(function(b,a){return!1!==e(a,b,c)},a)};e.__iteratorUncached=function(e,a){if(e===ha){var c=b.__iterator(e,a);return new A(function(){var b=c.next();if(!b.done){var e=b.value[0];b.value[0]=b.value[1];b.value[1]=e}return b})}return b.__iterator(e===aa?Ia:aa,a)};return e}function Xb(b,e,s){var a=ga(b);a.size=b.size;a.has=function(e){return b.has(e)};a.get=function(a,N){var c=b.get(a,x);return c===x?N:e.call(s,c,a,b)};a.__iterateUncached=function(a,c){var N=this;return b.__iterate(function(b,
c,d){return!1!==a(e.call(s,b,c,d),c,N)},c)};a.__iteratorUncached=function(a,c){var N=b.__iterator(ha,c);return new A(function(){var c=N.next();if(c.done)return c;var d=c.value,g=d[0];return B(a,g,e.call(s,d[1],g,b),c)})};return a}function qb(b,e){var s=ga(b);s._iter=b;s.size=b.size;s.reverse=function(){return b};b.flip&&(s.flip=function(){var e=Wb(b);e.reverse=function(){return b.flip()};return e});s.get=function(s,a){return b.get(e?s:-1-s,a)};s.has=function(s){return b.has(e?s:-1-s)};s.includes=
function(e){return b.includes(e)};s.cacheResult=pb;s.__iterate=function(e,s){var a=this;return b.__iterate(function(b,s){return e(b,s,a)},!s)};s.__iterator=function(e,s){return b.__iterator(e,!s)};return s}function Yb(b,e,s,a){var c=ga(b);a&&(c.has=function(a){var c=b.get(a,x);return c!==x&&!!e.call(s,c,a,b)},c.get=function(a,c){var d=b.get(a,x);return d!==x&&e.call(s,d,a,b)?d:c});c.__iterateUncached=function(c,d){var g=this,y=0;b.__iterate(function(b,d,f){if(e.call(s,b,d,f))return y++,c(b,a?d:y-
1,g)},d);return y};c.__iteratorUncached=function(c,d){var g=b.__iterator(ha,d),y=0;return new A(function(){for(;;){var d=g.next();if(d.done)return d;var f=d.value,l=f[0],f=f[1];if(e.call(s,f,l,b))return B(c,a?l:y++,f,d)}})};return c}function Jc(b,e,s){var a=z().asMutable();b.__iterate(function(c,d){a.update(e.call(s,c,d,b),0,function(b){return b+1})});return a.asImmutable()}function Kc(b,e,s){var a=E(b),c=(ea(b)?I():z()).asMutable();b.__iterate(function(d,g){c.update(e.call(s,d,g,b),function(b){return b=
b||[],b.push(a?[g,d]:d),b})});var d=E(b)?u:q(b)?n:L;return c.map(function(e){return C(b,d(e))})}function rb(b,e,a,c){var d=b.size;void 0!==e&&(e|=0);void 0!==a&&(a|=0);if(t(e,a,d))return b;var g=r(e,d,0),d=r(a,d,d);if(g!==g||d!==d)return rb(b.toSeq().cacheResult(),e,a,c);e=d-g;var f;e===e&&(f=0>e?0:e);e=ga(b);e.size=0===f?f:b.size&&f||void 0;!c&&(gb(b)&&0<=f)&&(e.get=function(e,a){e=l(this,e);return 0<=e&&e<f?b.get(e+g,a):a});e.__iterateUncached=function(e,a){var s=this;if(0===f)return 0;if(a)return this.cacheResult().__iterate(e,
a);var d=0,y=!0,l=0;b.__iterate(function(b,a){if(!y||!(y=d++<g))return l++,!1!==e(b,c?a:l-1,s)&&l!==f});return l};e.__iteratorUncached=function(e,a){if(0!==f&&a)return this.cacheResult().__iterator(e,a);var s=0!==f&&b.__iterator(e,a),d=0,y=0;return new A(function(){for(;d++<g;)s.next();if(++y>f)return U();var b=s.next();return c||e===aa?b:e===Ia?B(e,y-1,void 0,b):B(e,y-1,b.value[1],b)})};return e}function Lc(b,e,a){var c=ga(b);c.__iterateUncached=function(c,d){var g=this;if(d)return this.cacheResult().__iterate(c,
d);var f=0;b.__iterate(function(b,d,N){return e.call(a,b,d,N)&&++f&&c(b,d,g)});return f};c.__iteratorUncached=function(c,d){var g=this;if(d)return this.cacheResult().__iterator(c,d);var f=b.__iterator(ha,d),N=!0;return new A(function(){if(!N)return U();var b=f.next();if(b.done)return b;var d=b.value,l=d[0],d=d[1];return!e.call(a,d,l,g)?(N=!1,U()):c===ha?b:B(c,l,d,b)})};return c}function Zb(b,e,a,d){var c=ga(b);c.__iterateUncached=function(c,g){var f=this;if(g)return this.cacheResult().__iterate(c,
g);var l=!0,y=0;b.__iterate(function(b,g,r){if(!l||!(l=e.call(a,b,g,r)))return y++,c(b,d?g:y-1,f)});return y};c.__iteratorUncached=function(c,g){var f=this;if(g)return this.cacheResult().__iterator(c,g);var l=b.__iterator(ha,g),y=!0,r=0;return new A(function(){var b,g,k;do{b=l.next();if(b.done)return d||c===aa?b:c===Ia?B(c,r++,void 0,b):B(c,r++,b.value[1],b);k=b.value;g=k[0];k=k[1];y&&(y=e.call(a,k,g,f))}while(y);return c===ha?b:B(c,g,k,b)})};return c}function Mc(b,e){var a=E(b),c=[b].concat(e).map(function(b){v(b)?
a&&(b=u(b)):b=a?Pb(b):fb(Array.isArray(b)?b:[b]);return b}).filter(function(b){return 0!==b.size});if(0===c.length)return b;if(1===c.length){var d=c[0];if(d===b||a&&E(d)||q(b)&&q(d))return d}d=new fa(c);a?d=d.toKeyedSeq():q(b)||(d=d.toSetSeq());d=d.flatten(!0);d.size=c.reduce(function(b,e){if(void 0!==b){var a=e.size;if(void 0!==a)return b+a}},0);return d}function $b(b,e,a){var c=ga(b);c.__iterateUncached=function(c,d){function g(b,l){var r=this;b.__iterate(function(b,d){if((!e||l<e)&&v(b))g(b,l+
1);else if(!1===c(b,a?d:f++,r))N=!0;return!N},d)}var f=0,N=!1;g(b,0);return f};c.__iteratorUncached=function(c,d){var g=b.__iterator(c,d),f=[],N=0;return new A(function(){for(;g;){var b=g.next();if(!1!==b.done)g=f.pop();else{var l=b.value;c===ha&&(l=l[1]);if((!e||f.length<e)&&v(l))f.push(g),g=l.__iterator(c,d);else return a?b:B(c,N++,l,b)}}return U()})};return c}function Nc(b,e,a){var c=E(b)?u:q(b)?n:L;return b.toSeq().map(function(d,g){return c(e.call(a,d,g,b))}).flatten(!0)}function Oc(b,e){var a=
ga(b);a.size=b.size&&2*b.size-1;a.__iterateUncached=function(a,s){var c=this,d=0;b.__iterate(function(b,s){return(!d||!1!==a(e,d++,c))&&!1!==a(b,d++,c)},s);return d};a.__iteratorUncached=function(a,s){var c=b.__iterator(aa,s),d=0,g;return new A(function(){if(!g||d%2)if(g=c.next(),g.done)return g;return d%2?B(a,d++,e):B(a,d++,g.value,g)})};return a}function za(b,e,a){e||(e=ac);var c=E(b),d=0,g=b.toSeq().map(function(e,c){return[c,e,d++,a?a(e,c,b):e]}).toArray();g.sort(function(b,a){return e(b[3],a[3])||
b[2]-a[2]}).forEach(c?function(b,e){g[e].length=2}:function(b,e){g[e]=b[1]});return c?Z(g):q(b)?H(g):da(g)}function Va(b,e,a){e||(e=ac);if(a){var c=b.toSeq().map(function(e,c){return[e,a(e,c,b)]}).reduce(function(b,a){return bc(e,b[1],a[1])?a:b});return c&&c[0]}return b.reduce(function(b,a){return bc(e,b,a)?a:b})}function bc(b,e,a){b=b(a,e);return 0===b&&a!==e&&(void 0===a||null===a||a!==a)||0<b}function sb(b,e,a){b=ga(b);b.size=(new fa(a)).map(function(b){return b.size}).min();b.__iterate=function(b,
e){for(var a=this.__iterator(aa,e),s,c=0;!(s=a.next()).done&&!1!==b(s.value,c++,this););return c};b.__iteratorUncached=function(b,c){var d=a.map(function(b){return b=p(b),Ea(c?b.reverse():b)}),g=0,f=!1;return new A(function(){var a;f||(a=d.map(function(b){return b.next()}),f=a.some(function(b){return b.done}));return f?U():B(b,g++,e.apply(null,a.map(function(b){return b.value})))})};return b}function C(b,e){return gb(b)?e:b.constructor(e)}function cc(b){if(b!==Object(b))throw new TypeError("Expected [K, V] tuple: "+
b);}function dc(b){W(b.size);return f(b)}function ga(b){return Object.create((E(b)?Z:q(b)?H:da).prototype)}function pb(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):K.prototype.cacheResult.call(this)}function ac(b,e){return b>e?1:b<e?-1:0}function ec(b){var e=Ea(b);if(!e){if(!(b&&"number"===typeof b.length))throw new TypeError("Expected iterable or array-like: "+b);e=Ea(p(b))}return e}function z(b){return null===b||void 0===b?ia():tb(b)&&!ea(b)?b:ia().withMutations(function(e){var a=
u(b);W(a.size);a.forEach(function(b,a){return e.set(a,b)})})}function tb(b){return!(!b||!b[fc])}function Ja(b,e){this.ownerID=b;this.entries=e}function Aa(b,e,a){this.ownerID=b;this.bitmap=e;this.nodes=a}function Ka(b,e,a){this.ownerID=b;this.count=e;this.nodes=a}function sa(b,e,a){this.ownerID=b;this.keyHash=e;this.entries=a}function ja(b,e,a){this.ownerID=b;this.keyHash=e;this.entry=a}function ub(b,e,a){this._type=e;this._reverse=a;this._stack=b._root&&{node:b._root,index:0,__prev:void 0}}function vb(b,
e,a,c){var d=Object.create(w);d.size=b;d._root=e;d.__ownerID=a;d.__hash=c;d.__altered=!1;return d}function ia(){return gc||(gc=vb(0))}function hc(b,e,a){var c;if(b._root){c=h(Pc);var d=h(ic);e=wb(b._root,b.__ownerID,0,void 0,e,a,c,d);if(!d.value)return b;c=b.size+(c.value?a===x?-1:1:0)}else{if(a===x)return b;c=1;e=new Ja(b.__ownerID,[[e,a]])}return b.__ownerID?(b.size=c,b._root=e,b.__hash=void 0,b.__altered=!0,b):e?vb(c,e):ia()}function wb(b,e,a,c,d,g,f,l){if(!b){if(g===x)return b;k(l);k(f);return new ja(e,
c,[d,g])}return b.update(e,a,c,d,g,f,l)}function xb(b,e,a,c,d){if(b.keyHash===c)return new sa(e,c,[b.entry,d]);var g=(0===a?b.keyHash:b.keyHash>>>a)&S,f=(0===a?c:c>>>a)&S,l;b=g===f?[xb(b,e,a+D,c,d)]:(l=new ja(e,c,d),g<f?[b,l]:[l,b]);return new Aa(e,1<<g|1<<f,b)}function Wa(b,e,a){for(var c=[],d=0;d<a.length;d++){var g=a[d],f=u(g);v(g)||(f=f.map(function(b){return hb(b)}));c.push(f)}return jc(b,e,c)}function Xa(b){return function(e,a,c){return e&&e.mergeDeepWith&&v(a)?e.mergeDeepWith(b,a):b?b(e,a,
c):a}}function jc(b,e,a){a=a.filter(function(b){return 0!==b.size});return 0===a.length?b:0===b.size&&!b.__ownerID&&1===a.length?b.constructor(a[0]):b.withMutations(function(b){for(var c=e?function(a,c){b.update(c,x,function(b){return b===x?a:e(b,a,c)})}:function(e,a){b.set(a,e)},d=0;d<a.length;d++)a[d].forEach(c)})}function kc(b,e,a,c){var d=b===x,g=e.next();if(g.done)return d=d?a:b,c=c(d),c===d?b:c;Ua(d||b&&b.set,"invalid keyPath");var g=g.value,f=d?x:b.get(g,x);c=kc(f,e,a,c);return c===f?b:c===
x?b.remove(g):(d?ia():b).set(g,c)}function lc(b){b-=b>>1&1431655765;b=(b&858993459)+(b>>2&858993459);b=b+(b>>4)&252645135;b+=b>>8;return b+(b>>16)&127}function F(b){var e=yb();if(null===b||void 0===b)return e;if(mc(b))return b;var a=n(b),c=a.size;if(0===c)return e;W(c);return 0<c&&c<ba?La(0,c,D,null,new pa(a.toArray())):e.withMutations(function(b){b.setSize(c);a.forEach(function(e,a){return b.set(a,e)})})}function mc(b){return!(!b||!b[nc])}function pa(b,e){this.array=b;this.ownerID=e}function oc(b,
e){function a(b,c){var s=c===f?l&&l.array:b&&b.array,N=c>d?0:d-c,r=g-c;r>ba&&(r=ba);return function(){if(N===r)return Ma;var b=e?--r:N++;return s&&s[b]}}function c(b,f,l){var r,k=b&&b.array,p=l>d?0:d-l>>f,h=(g-l>>f)+1;h>ba&&(h=ba);return function(){do{if(r){var b=r();if(b!==Ma)return b;r=null}if(p===h)return Ma;b=e?--h:p++;r=0===f-D?a(k&&k[b],l+(b<<f)):c(k&&k[b],f-D,l+(b<<f))}while(1)}}var d=b._origin,g=b._capacity,f=Na(g),l=b._tail;return 0===b._level?a(b._root,0):c(b._root,b._level,0)}function La(b,
e,a,c,d,g,f){var l=Object.create(T);l.size=e-b;l._origin=b;l._capacity=e;l._level=a;l._root=c;l._tail=d;l.__ownerID=g;l.__hash=f;l.__altered=!1;return l}function yb(){return pc||(pc=La(0,0,D))}function Qc(b,e,a){e=l(b,e);if(e!==e)return b;if(e>=b.size||0>e)return b.withMutations(function(b){0>e?qa(b,e).set(0,a):qa(b,0,e+1).set(e,a)});e+=b._origin;var c=b._tail,d=b._root,g=h(ic);e>=Na(b._capacity)?c=zb(c,b.__ownerID,0,e,a,g):d=zb(d,b.__ownerID,b._level,e,a,g);return!g.value?b:b.__ownerID?(b._root=
d,b._tail=c,b.__hash=void 0,b.__altered=!0,b):La(b._origin,b._capacity,b._level,d,c)}function zb(b,e,a,c,d,g){var f=c>>>a&S,l=b&&f<b.array.length;if(!l&&void 0===d)return b;if(0<a){l=b&&b.array[f];d=zb(l,e,a-D,c,d,g);if(d===l)return b;b=Ba(b,e);b.array[f]=d;return b}if(l&&b.array[f]===d)return b;k(g);b=Ba(b,e);void 0===d&&f===b.array.length-1?b.array.pop():b.array[f]=d;return b}function Ba(b,e){return e&&b&&e===b.ownerID?b:new pa(b?b.array.slice():[],e)}function qc(b,e){if(e>=Na(b._capacity))return b._tail;
if(e<1<<b._level+D){for(var a=b._root,c=b._level;a&&0<c;)a=a.array[e>>>c&S],c-=D;return a}}function qa(b,e,a){void 0!==e&&(e|=0);void 0!==a&&(a|=0);var d=b.__ownerID||new c,g=b._origin,f=b._capacity;e=g+e;a=void 0===a?f:0>a?f+a:g+a;if(e===g&&a===f)return b;if(e>=a)return b.clear();for(var l=b._level,r=b._root,k=0;0>e+k;)r=new pa(r&&r.array.length?[void 0,r]:[],d),l+=D,k+=1<<l;k&&(e+=k,g+=k,a+=k,f+=k);for(var p=Na(f),h=Na(a);h>=1<<l+D;)r=new pa(r&&r.array.length?[r]:[],d),l+=D;var k=b._tail,t=h<p?
qc(b,a-1):h>p?new pa([],d):k;if(k&&h>p&&e<f&&k.array.length){for(var v=r=Ba(r,d),u=l;u>D;u-=D)var m=p>>>u&S,v=v.array[m]=Ba(v.array[m],d);v.array[p>>>D&S]=k}a<f&&(t=t&&t.removeAfter(d,0,a));if(e>=h)e-=h,a-=h,l=D,r=null,t=t&&t.removeBefore(d,0,e);else if(e>g||h<p){for(k=0;r;){f=e>>>l&S;if(f!==h>>>l&S)break;f&&(k+=(1<<l)*f);l-=D;r=r.array[f]}r&&e>g&&(r=r.removeBefore(d,l,e-k));r&&h<p&&(r=r.removeAfter(d,l,h-k));k&&(e-=k,a-=k)}return b.__ownerID?(b.size=a-e,b._origin=e,b._capacity=a,b._level=l,b._root=
r,b._tail=t,b.__hash=void 0,b.__altered=!0,b):La(e,a,l,r,t)}function Ya(b,e,a){for(var c=[],d=0,g=0;g<a.length;g++){var f=a[g],l=n(f);l.size>d&&(d=l.size);v(f)||(l=l.map(function(b){return hb(b)}));c.push(l)}d>b.size&&(b=b.setSize(d));return jc(b,e,c)}function Na(b){return b<ba?0:b-1>>>D<<D}function I(b){return null===b||void 0===b?Za():rc(b)?b:Za().withMutations(function(e){var a=u(b);W(a.size);a.forEach(function(b,a){return e.set(a,b)})})}function rc(b){return tb(b)&&ea(b)}function Ab(b,e,a,c){var d=
Object.create(I.prototype);d.size=b?b.size:0;d._map=b;d._list=e;d.__ownerID=a;d.__hash=c;return d}function Za(){return sc||(sc=Ab(ia(),yb()))}function tc(b,e,a){var c=b._map,d=b._list,g=c.get(e),f=void 0!==g;if(a===x){if(!f)return b;d.size>=ba&&d.size>=2*c.size?(e=d.filter(function(b,e){return void 0!==b&&g!==e}),c=e.toKeyedSeq().map(function(b){return b[0]}).flip().toMap(),b.__ownerID&&(c.__ownerID=e.__ownerID=b.__ownerID)):(c=c.remove(e),e=g===d.size-1?d.pop():d.set(g,void 0))}else if(f){if(a===
d.get(g)[1])return b;e=d.set(g,[e,a])}else c=c.set(e,d.size),e=d.set(d.size,[e,a]);return b.__ownerID?(b.size=c.size,b._map=c,b._list=e,b.__hash=void 0,b):Ab(c,e)}function J(b){return null===b||void 0===b?Ca||(Ca=ta(0)):uc(b)?b:(Ca||(Ca=ta(0))).unshiftAll(b)}function uc(b){return!(!b||!b[vc])}function ta(b,e,a,c){var d=Object.create(Da);d.size=b;d._head=e;d.__ownerID=a;d.__hash=c;d.__altered=!1;return d}function G(b){return null===b||void 0===b?Bb():Cb(b)&&!ea(b)?b:Bb().withMutations(function(e){var a=
L(b);W(a.size);a.forEach(function(b){return e.add(b)})})}function Cb(b){return!(!b||!b[wc])}function Db(b,e){return b.__ownerID?(b.size=e.size,b._map=e,b):e===b._map?b:0===e.size?b.__empty():b.__make(e)}function xc(b,e){var a=Object.create(X);a.size=b?b.size:0;a._map=b;a.__ownerID=e;return a}function Bb(){return yc||(yc=xc(ia()))}function ka(b){return null===b||void 0===b?Eb():zc(b)?b:Eb().withMutations(function(e){var a=L(b);W(a.size);a.forEach(function(b){return e.add(b)})})}function zc(b){return Cb(b)&&
ea(b)}function Ac(b,e){var a=Object.create($a);a.size=b?b.size:0;a._map=b;a.__ownerID=e;return a}function Eb(){return Bc||(Bc=Ac(Za()))}function Y(b,e){var a,c=function(g){if(g instanceof c)return g;if(!(this instanceof c))return new c(g);if(!a){a=!0;var f=Object.keys(b);try{f.forEach(Rc.bind(void 0,d))}catch(l){}d.size=f.length;d._name=e;d._keys=f;d._defaultValues=b}this._map=z(g)},d=c.prototype=Object.create(O);return d.constructor=c}function ab(b,e,a){b=Object.create(Object.getPrototypeOf(b));
b._map=e;b.__ownerID=a;return b}function Rc(b,e){Object.defineProperty(b,e,{get:function(){return this.get(e)},set:function(b){Ua(this.__ownerID,"Cannot set on an immutable record.");this.set(e,b)}})}function Fb(b,e){if(b===e)return!0;if(!v(e)||void 0!==b.size&&void 0!==e.size&&b.size!==e.size||void 0!==b.__hash&&void 0!==e.__hash&&b.__hash!==e.__hash||E(b)!==E(e)||q(b)!==q(e)||ea(b)!==ea(e))return!1;if(0===b.size&&0===e.size)return!0;var a=!ma(b);if(ea(b)){var c=b.entries();return e.every(function(b,
e){var d=c.next().value;return d&&M(d[1],b)&&(a||M(d[0],e))})&&c.next().done}var d=!1;if(void 0===b.size)if(void 0===e.size)"function"===typeof b.cacheResult&&b.cacheResult();else{var d=!0,g=b;b=e;e=g}var f=!0,g=e.__iterate(function(e,c){if(a?!b.has(e):d?!M(e,b.get(c,x)):!M(b.get(c,x),e))return f=!1});return f&&b.size===g}function P(b,e,a){if(!(this instanceof P))return new P(b,e,a);Ua(0!==a,"Cannot step a Range by 0");b=b||0;void 0===e&&(e=Infinity);a=void 0===a?1:Math.abs(a);e<b&&(a=-a);this._start=
b;this._end=e;this._step=a;this.size=Math.max(0,Math.ceil((e-b)/a-1)+1);if(0===this.size){if(Gb)return Gb;Gb=this}}function Q(b,e){if(!(this instanceof Q))return new Q(b,e);this._value=b;this.size=void 0===e?Infinity:Math.max(0,e);if(0===this.size){if(Hb)return Hb;Hb=this}}function la(b,e){var a=function(a){b.prototype[a]=e[a]};Object.keys(e).forEach(a);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(a);return b}function Sc(b,e){return e}function Tc(b,e){return[e,b]}function bb(b){return function(){return!b.apply(this,
arguments)}}function Cc(b){return function(){return-b.apply(this,arguments)}}function Dc(b){return"string"===typeof b?JSON.stringify(b):b}function Uc(){return d(arguments)}function Ec(b,e){return b<e?1:b>e?-1:0}function Vc(b){if(Infinity===b.size)return 0;var e=ea(b),a=E(b),c=e?1:0;b=b.__iterate(a?e?function(b,e){c=31*c+Fc(V(b),V(e))|0}:function(b,e){c=c+Fc(V(b),V(e))|0}:e?function(b){c=31*c+V(b)|0}:function(b){c=c+V(b)|0});return Wc(b,c)}function Wc(b,e){e=Oa(e,3432918353);e=Oa(e<<15|e>>>-15,461845907);
e=Oa(e<<13|e>>>-13,5);e=(e+3864292196|0)^b;e=Oa(e^e>>>16,2246822507);e=Oa(e^e>>>13,3266489909);return(e^e>>>16)>>>1&1073741824|(e^e>>>16)&3221225471}function Fc(b,e){return b^e+2654435769+(b<<6)+(b>>2)|0}var ca=Array.prototype.slice,D=5,ba=1<<D,S=ba-1,x={},Pc={value:!1},ic={value:!1};a(u,p);a(n,p);a(L,p);p.isIterable=v;p.isKeyed=E;p.isIndexed=q;p.isAssociative=ma;p.isOrdered=ea;p.Keyed=u;p.Indexed=n;p.Set=L;var Kb="@@__IMMUTABLE_ITERABLE__@@",Lb="@@__IMMUTABLE_KEYED__@@",Mb="@@__IMMUTABLE_INDEXED__@@",
ua="@@__IMMUTABLE_ORDERED__@@",Ia=0,aa=1,ha=2,eb="function"===typeof Symbol&&Symbol.iterator,Nb="@@iterator",Ib=eb||Nb;A.prototype.toString=function(){return"[Iterator]"};A.KEYS=Ia;A.VALUES=aa;A.ENTRIES=ha;A.prototype.inspect=A.prototype.toSource=function(){return this.toString()};A.prototype[Ib]=function(){return this};a(K,p);K.of=function(){return K(arguments)};K.prototype.toSeq=function(){return this};K.prototype.toString=function(){return this.__toString("Seq {","}")};K.prototype.cacheResult=
function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};K.prototype.__iterate=function(b,e){return Sb(this,b,e,!0)};K.prototype.__iterator=function(b,e){return Tb(this,b,e,!0)};a(Z,K);Z.prototype.toKeyedSeq=function(){return this};a(H,K);H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(b,
e){return Sb(this,b,e,!1)};H.prototype.__iterator=function(b,e){return Tb(this,b,e,!1)};a(da,K);da.of=function(){return da(arguments)};da.prototype.toSetSeq=function(){return this};K.isSeq=gb;K.Keyed=Z;K.Set=da;K.Indexed=H;var Qb="@@__IMMUTABLE_SEQ__@@";K.prototype[Qb]=!0;a(fa,H);fa.prototype.get=function(b,e){return this.has(b)?this._array[l(this,b)]:e};fa.prototype.__iterate=function(b,e){for(var a=this._array,c=a.length-1,d=0;d<=c;d++)if(!1===b(a[e?c-d:d],d,this))return d+1;return d};fa.prototype.__iterator=
function(b,e){var a=this._array,c=a.length-1,d=0;return new A(function(){return d>c?U():B(b,d,a[e?c-d++:d++])})};a(na,Z);na.prototype.get=function(b,e){return void 0!==e&&!this.has(b)?e:this._object[b]};na.prototype.has=function(b){return this._object.hasOwnProperty(b)};na.prototype.__iterate=function(b,e){for(var a=this._object,c=this._keys,d=c.length-1,g=0;g<=d;g++){var f=c[e?d-g:g];if(!1===b(a[f],f,this))return g+1}return g};na.prototype.__iterator=function(b,e){var a=this._object,c=this._keys,
d=c.length-1,g=0;return new A(function(){var f=c[e?d-g:g];return g++>d?U():B(b,f,a[f])})};na.prototype[ua]=!0;a(Fa,H);Fa.prototype.__iterateUncached=function(b,e){if(e)return this.cacheResult().__iterate(b,e);var a=Ea(this._iterable),c=0;if(Qa(a))for(var d;!(d=a.next()).done&&!1!==b(d.value,c++,this););return c};Fa.prototype.__iteratorUncached=function(b,e){if(e)return this.cacheResult().__iterator(b,e);var a=Ea(this._iterable);if(!Qa(a))return new A(U);var c=0;return new A(function(){var e=a.next();
return e.done?e:B(b,c++,e.value)})};a(Ga,H);Ga.prototype.__iterateUncached=function(b,e){if(e)return this.cacheResult().__iterate(b,e);for(var a=this._iterator,c=this._iteratorCache,d=0;d<c.length;)if(!1===b(c[d],d++,this))return d;for(var g;!(g=a.next()).done&&!(g=g.value,c[d]=g,!1===b(g,d++,this)););return d};Ga.prototype.__iteratorUncached=function(b,e){if(e)return this.cacheResult().__iterator(b,e);var a=this._iterator,c=this._iteratorCache,d=0;return new A(function(){if(d>=c.length){var e=a.next();
if(e.done)return e;c[d]=e.value}return B(b,d,c[d++])})};var Rb;a(oa,p);a(Ha,oa);a(va,oa);a(Sa,oa);oa.Keyed=Ha;oa.Indexed=va;oa.Set=Sa;var Oa="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(b,e){b|=0;e|=0;var a=b&65535,c=e&65535;return a*c+((b>>>16)*c+a*(e>>>16)<<16>>>0)|0},Vb=Object.isExtensible,Ta;try{Object.defineProperty({},"@",{}),Ta=!0}catch($c){Ta=!1}var mb="function"===typeof WeakMap,nb;mb&&(nb=new WeakMap);var ob=0,ra="__immutablehash__";"function"===typeof Symbol&&
(ra=Symbol(ra));var Gc=16,Hc=255,lb=0,kb={};a($,Z);$.prototype.get=function(b,e){return this._iter.get(b,e)};$.prototype.has=function(b){return this._iter.has(b)};$.prototype.valueSeq=function(){return this._iter.valueSeq()};$.prototype.reverse=function(){var b=this,e=qb(this,!0);this._useKeys||(e.valueSeq=function(){return b._iter.toSeq().reverse()});return e};$.prototype.map=function(b,e){var a=this,c=Xb(this,b,e);this._useKeys||(c.valueSeq=function(){return a._iter.toSeq().map(b,e)});return c};
$.prototype.__iterate=function(b,e){var a=this,c;return this._iter.__iterate(this._useKeys?function(e,c){return b(e,c,a)}:(c=e?dc(this):0,function(d){return b(d,e?--c:c++,a)}),e)};$.prototype.__iterator=function(b,e){if(this._useKeys)return this._iter.__iterator(b,e);var a=this._iter.__iterator(aa,e),c=e?dc(this):0;return new A(function(){var d=a.next();return d.done?d:B(b,e?--c:c++,d.value,d)})};$.prototype[ua]=!0;a(wa,H);wa.prototype.includes=function(b){return this._iter.includes(b)};wa.prototype.__iterate=
function(b,e){var a=this,c=0;return this._iter.__iterate(function(e){return b(e,c++,a)},e)};wa.prototype.__iterator=function(b,e){var a=this._iter.__iterator(aa,e),c=0;return new A(function(){var e=a.next();return e.done?e:B(b,c++,e.value,e)})};a(xa,da);xa.prototype.has=function(b){return this._iter.includes(b)};xa.prototype.__iterate=function(b,e){var a=this;return this._iter.__iterate(function(e){return b(e,e,a)},e)};xa.prototype.__iterator=function(b,e){var a=this._iter.__iterator(aa,e);return new A(function(){var e=
a.next();return e.done?e:B(b,e.value,e.value,e)})};a(ya,Z);ya.prototype.entrySeq=function(){return this._iter.toSeq()};ya.prototype.__iterate=function(b,e){var a=this;return this._iter.__iterate(function(e){if(e){cc(e);var c=v(e);return b(c?e.get(1):e[1],c?e.get(0):e[0],a)}},e)};ya.prototype.__iterator=function(b,e){var a=this._iter.__iterator(aa,e);return new A(function(){for(;;){var e=a.next();if(e.done)return e;var c=e.value;if(c){cc(c);var d=v(c);return B(b,d?c.get(0):c[0],d?c.get(1):c[1],e)}}})};
wa.prototype.cacheResult=$.prototype.cacheResult=xa.prototype.cacheResult=ya.prototype.cacheResult=pb;a(z,Ha);z.prototype.toString=function(){return this.__toString("Map {","}")};z.prototype.get=function(b,e){return this._root?this._root.get(0,void 0,b,e):e};z.prototype.set=function(b,e){return hc(this,b,e)};z.prototype.setIn=function(b,e){return this.updateIn(b,x,function(){return e})};z.prototype.remove=function(b){return hc(this,b,x)};z.prototype.deleteIn=function(b){return this.updateIn(b,function(){return x})};
z.prototype.update=function(b,e,a){return 1===arguments.length?b(this):this.updateIn([b],e,a)};z.prototype.updateIn=function(b,e,a){a||(a=e,e=void 0);b=kc(this,ec(b),e,a);return b===x?void 0:b};z.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ia()};z.prototype.merge=function(){return Wa(this,void 0,arguments)};z.prototype.mergeWith=function(b){var e=ca.call(arguments,1);return Wa(this,b,e)};z.prototype.mergeIn=
function(b){var e=ca.call(arguments,1);return this.updateIn(b,ia(),function(b){return"function"===typeof b.merge?b.merge.apply(b,e):e[e.length-1]})};z.prototype.mergeDeep=function(){return Wa(this,Xa(void 0),arguments)};z.prototype.mergeDeepWith=function(b){var e=ca.call(arguments,1);return Wa(this,Xa(b),e)};z.prototype.mergeDeepIn=function(b){var e=ca.call(arguments,1);return this.updateIn(b,ia(),function(b){return"function"===typeof b.mergeDeep?b.mergeDeep.apply(b,e):e[e.length-1]})};z.prototype.sort=
function(b){return I(za(this,b))};z.prototype.sortBy=function(b,e){return I(za(this,e,b))};z.prototype.withMutations=function(b){var e=this.asMutable();b(e);return e.wasAltered()?e.__ensureOwner(this.__ownerID):this};z.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new c)};z.prototype.asImmutable=function(){return this.__ensureOwner()};z.prototype.wasAltered=function(){return this.__altered};z.prototype.__iterator=function(b,e){return new ub(this,b,e)};z.prototype.__iterate=
function(b,e){var a=this,c=0;this._root&&this._root.iterate(function(e){c++;return b(e[1],e[0],a)},e);return c};z.prototype.__ensureOwner=function(b){return b===this.__ownerID?this:!b?(this.__ownerID=b,this.__altered=!1,this):vb(this.size,this._root,b,this.__hash)};z.isMap=tb;var fc="@@__IMMUTABLE_MAP__@@",w=z.prototype;w[fc]=!0;w["delete"]=w.remove;w.removeIn=w.deleteIn;Ja.prototype.get=function(b,e,a,c){b=this.entries;e=0;for(var d=b.length;e<d;e++)if(M(a,b[e][0]))return b[e][1];return c};Ja.prototype.update=
function(b,e,a,g,f,l,r){a=f===x;e=this.entries;for(var h=0,p=e.length;h<p&&!M(g,e[h][0]);h++);var t=h<p;if(t?e[h][1]===f:a)return this;k(r);(a||!t)&&k(l);if(!(a&&1===e.length)){if(!t&&!a&&e.length>=Xc){b||(b=new c);g=new ja(b,V(g),[g,f]);for(f=0;f<e.length;f++)l=e[f],g=g.update(b,0,void 0,l[0],l[1]);return g}e=(l=b&&b===this.ownerID)?e:d(e);t?a?h===p-1?e.pop():e[h]=e.pop():e[h]=[g,f]:e.push([g,f]);return l?(this.entries=e,this):new Ja(b,e)}};Aa.prototype.get=function(b,e,a,c){void 0===e&&(e=V(a));
var d=1<<((0===b?e:e>>>b)&S),g=this.bitmap;return 0===(g&d)?c:this.nodes[lc(g&d-1)].get(b+D,e,a,c)};Aa.prototype.update=function(b,e,a,c,g,f,l){void 0===a&&(a=V(c));var r=(0===e?a:a>>>e)&S,k=1<<r,h=this.bitmap,p=0!==(h&k);if(!p&&g===x)return this;var t=lc(h&k-1),v=this.nodes,u=p?v[t]:void 0;e=wb(u,b,e+D,a,c,g,f,l);if(e===u)return this;if(!p&&e&&v.length>=Yc){t=h;k=0;p=Array(ba);for(h=0;0!==t;h++,t>>>=1)p[h]=t&1?v[k++]:void 0;p[r]=e;return new Ka(b,k+1,p)}if(p&&!e&&2===v.length&&(v[t^1].constructor===
ja||v[t^1].constructor===sa))return v[t^1];if(p&&e&&1===v.length&&(e.constructor===ja||e.constructor===sa))return e;r=b&&b===this.ownerID;k=p?e?h:h^k:h|k;if(p)if(e)v=r?v:d(v),v[t]=e;else if(e=v.length-1,r&&t===e)v.pop();else{p=Array(e);for(u=h=0;u<e;u++)u===t&&(h=1),p[u]=v[u+h];v=p}else if(p=v.length+1,r&&t+1===p)v[t]=e;else{h=Array(p);for(a=u=0;a<p;a++)a===t?(h[a]=e,u=-1):h[a]=v[a+u];v=h}return r?(this.bitmap=k,this.nodes=v,this):new Aa(b,k,v)};Ka.prototype.get=function(b,e,a,c){void 0===e&&(e=V(a));
var d=this.nodes[(0===b?e:e>>>b)&S];return d?d.get(b+D,e,a,c):c};Ka.prototype.update=function(b,e,a,c,g,f,l){void 0===a&&(a=V(c));var r=(0===e?a:a>>>e)&S,k=this.nodes,h=k[r];if(g===x&&!h)return this;e=wb(h,b,e+D,a,c,g,f,l);if(e===h)return this;a=this.count;if(h){if(!e&&(a--,a<Zc)){e=h=0;a=Array(a);c=0;g=1;for(f=k.length;c<f;c++,g<<=1)l=k[c],void 0!==l&&c!==r&&(h|=g,a[e++]=l);return new Aa(b,h,a)}}else a++;k=(h=b&&b===this.ownerID)?k:d(k);k[r]=e;return h?(this.count=a,this.nodes=k,this):new Ka(b,a,
k)};sa.prototype.get=function(b,e,a,c){b=this.entries;e=0;for(var d=b.length;e<d;e++)if(M(a,b[e][0]))return b[e][1];return c};sa.prototype.update=function(b,e,a,c,g,f,l){void 0===a&&(a=V(c));var r=g===x;if(a!==this.keyHash){if(r)return this;k(l);k(f);return xb(this,b,e,a,[c,g])}var h=this.entries;e=0;for(a=h.length;e<a&&!M(c,h[e][0]);e++);var p=e<a;if(p?h[e][1]===g:r)return this;k(l);(r||!p)&&k(f);if(r&&2===a)return new ja(b,this.keyHash,h[e^1]);l=(f=b&&b===this.ownerID)?h:d(h);p?r?e===a-1?l.pop():
l[e]=l.pop():l[e]=[c,g]:l.push([c,g]);return f?(this.entries=l,this):new sa(b,this.keyHash,l)};ja.prototype.get=function(b,e,a,c){return M(a,this.entry[0])?this.entry[1]:c};ja.prototype.update=function(b,e,a,c,d,g,f){a=d===x;var l=M(c,this.entry[0]);if(l?d===this.entry[1]:a)return this;k(f);if(a)k(g);else{if(l)return b&&b===this.ownerID?(this.entry[1]=d,this):new ja(b,this.keyHash,[c,d]);k(g);return xb(this,b,e,V(c),[c,d])}};Ja.prototype.iterate=sa.prototype.iterate=function(b,e){for(var a=this.entries,
c=0,d=a.length-1;c<=d;c++)if(!1===b(a[e?d-c:c]))return!1};Aa.prototype.iterate=Ka.prototype.iterate=function(b,e){for(var a=this.nodes,c=0,d=a.length-1;c<=d;c++){var g=a[e?d-c:c];if(g&&!1===g.iterate(b,e))return!1}};ja.prototype.iterate=function(b,e){return b(this.entry)};a(ub,A);ub.prototype.next=function(){for(var b=this._type,e=this._stack;e;){var a=e.node,c=e.index++,d;if(a.entry){if(0===c)return B(b,a.entry[0],a.entry[1])}else if(a.entries){if(d=a.entries.length-1,c<=d)return B(b,a.entries[this._reverse?
d-c:c][0],a.entries[this._reverse?d-c:c][1])}else if(d=a.nodes.length-1,c<=d){if(a=a.nodes[this._reverse?d-c:c]){if(a.entry)return B(b,a.entry[0],a.entry[1]);e=this._stack={node:a,index:0,__prev:e}}continue}e=this._stack=this._stack.__prev}return U()};var gc,Xc=ba/4,Yc=ba/2,Zc=ba/4;a(F,va);F.of=function(){return this(arguments)};F.prototype.toString=function(){return this.__toString("List [","]")};F.prototype.get=function(b,e){b=l(this,b);if(0<=b&&b<this.size){b+=this._origin;var a=qc(this,b);return a&&
a.array[b&S]}return e};F.prototype.set=function(b,e){return Qc(this,b,e)};F.prototype.remove=function(b){return!this.has(b)?this:0===b?this.shift():b===this.size-1?this.pop():this.splice(b,1)};F.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=D,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):yb()};F.prototype.push=function(){var b=arguments,e=this.size;return this.withMutations(function(a){qa(a,0,e+b.length);
for(var c=0;c<b.length;c++)a.set(e+c,b[c])})};F.prototype.pop=function(){return qa(this,0,-1)};F.prototype.unshift=function(){var b=arguments;return this.withMutations(function(e){qa(e,-b.length);for(var a=0;a<b.length;a++)e.set(a,b[a])})};F.prototype.shift=function(){return qa(this,1)};F.prototype.merge=function(){return Ya(this,void 0,arguments)};F.prototype.mergeWith=function(b){var e=ca.call(arguments,1);return Ya(this,b,e)};F.prototype.mergeDeep=function(){return Ya(this,Xa(void 0),arguments)};
F.prototype.mergeDeepWith=function(b){var e=ca.call(arguments,1);return Ya(this,Xa(b),e)};F.prototype.setSize=function(b){return qa(this,0,b)};F.prototype.slice=function(b,e){var a=this.size;return t(b,e,a)?this:qa(this,r(b,a,0),r(e,a,a))};F.prototype.__iterator=function(b,e){var a=0,c=oc(this,e);return new A(function(){var e=c();return e===Ma?U():B(b,a++,e)})};F.prototype.__iterate=function(b,e){for(var a=0,c=oc(this,e),d;(d=c())!==Ma&&!1!==b(d,a++,this););return a};F.prototype.__ensureOwner=function(b){return b===
this.__ownerID?this:!b?(this.__ownerID=b,this):La(this._origin,this._capacity,this._level,this._root,this._tail,b,this.__hash)};F.isList=mc;var nc="@@__IMMUTABLE_LIST__@@",T=F.prototype;T[nc]=!0;T["delete"]=T.remove;T.setIn=w.setIn;T.deleteIn=T.removeIn=w.removeIn;T.update=w.update;T.updateIn=w.updateIn;T.mergeIn=w.mergeIn;T.mergeDeepIn=w.mergeDeepIn;T.withMutations=w.withMutations;T.asMutable=w.asMutable;T.asImmutable=w.asImmutable;T.wasAltered=w.wasAltered;pa.prototype.removeBefore=function(b,e,
a){if(a===e?1<<e:0===this.array.length)return this;var c=a>>>e&S;if(c>=this.array.length)return new pa([],b);var d=0===c,g;if(0<e){var f=this.array[c];g=f&&f.removeBefore(b,e-D,a);if(g===f&&d)return this}if(d&&!g)return this;b=Ba(this,b);if(!d)for(d=0;d<c;d++)b.array[d]=void 0;g&&(b.array[c]=g);return b};pa.prototype.removeAfter=function(b,e,a){if(a===(e?1<<e:0)||0===this.array.length)return this;var c=a-1>>>e&S;if(c>=this.array.length)return this;var d;if(0<e){var g=this.array[c];d=g&&g.removeAfter(b,
e-D,a);if(d===g&&c===this.array.length-1)return this}b=Ba(this,b);b.array.splice(c+1);d&&(b.array[c]=d);return b};var Ma={},pc;a(I,z);I.of=function(){return this(arguments)};I.prototype.toString=function(){return this.__toString("OrderedMap {","}")};I.prototype.get=function(b,e){var a=this._map.get(b);return void 0!==a?this._list.get(a)[1]:e};I.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Za()};I.prototype.set=function(b,
e){return tc(this,b,e)};I.prototype.remove=function(b){return tc(this,b,x)};I.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};I.prototype.__iterate=function(b,e){var a=this;return this._list.__iterate(function(e){return e&&b(e[1],e[0],a)},e)};I.prototype.__iterator=function(b,e){return this._list.fromEntrySeq().__iterator(b,e)};I.prototype.__ensureOwner=function(b){if(b===this.__ownerID)return this;var e=this._map.__ensureOwner(b),a=this._list.__ensureOwner(b);
return!b?(this.__ownerID=b,this._map=e,this._list=a,this):Ab(e,a,b,this.__hash)};I.isOrderedMap=rc;I.prototype[ua]=!0;I.prototype["delete"]=I.prototype.remove;var sc;a(J,va);J.of=function(){return this(arguments)};J.prototype.toString=function(){return this.__toString("Stack [","]")};J.prototype.get=function(b,e){var a=this._head;for(b=l(this,b);a&&b--;)a=a.next;return a?a.value:e};J.prototype.peek=function(){return this._head&&this._head.value};J.prototype.push=function(){if(0===arguments.length)return this;
for(var b=this.size+arguments.length,e=this._head,a=arguments.length-1;0<=a;a--)e={value:arguments[a],next:e};return this.__ownerID?(this.size=b,this._head=e,this.__hash=void 0,this.__altered=!0,this):ta(b,e)};J.prototype.pushAll=function(b){b=n(b);if(0===b.size)return this;W(b.size);var e=this.size,a=this._head;b.reverse().forEach(function(b){e++;a={value:b,next:a}});return this.__ownerID?(this.size=e,this._head=a,this.__hash=void 0,this.__altered=!0,this):ta(e,a)};J.prototype.pop=function(){return this.slice(1)};
J.prototype.unshift=function(){return this.push.apply(this,arguments)};J.prototype.unshiftAll=function(b){return this.pushAll(b)};J.prototype.shift=function(){return this.pop.apply(this,arguments)};J.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this.__hash=this._head=void 0,this.__altered=!0,this):Ca||(Ca=ta(0))};J.prototype.slice=function(b,a){if(t(b,a,this.size))return this;var c=r(b,this.size,0);if(r(a,this.size,this.size)!==this.size)return va.prototype.slice.call(this,
b,a);for(var d=this.size-c,g=this._head;c--;)g=g.next;return this.__ownerID?(this.size=d,this._head=g,this.__hash=void 0,this.__altered=!0,this):ta(d,g)};J.prototype.__ensureOwner=function(b){return b===this.__ownerID?this:!b?(this.__ownerID=b,this.__altered=!1,this):ta(this.size,this._head,b,this.__hash)};J.prototype.__iterate=function(b,a){if(a)return this.reverse().__iterate(b);for(var c=0,d=this._head;d&&!1!==b(d.value,c++,this);)d=d.next;return c};J.prototype.__iterator=function(b,a){if(a)return this.reverse().__iterator(b);
var c=0,d=this._head;return new A(function(){if(d){var a=d.value;d=d.next;return B(b,c++,a)}return U()})};J.isStack=uc;var vc="@@__IMMUTABLE_STACK__@@",Da=J.prototype;Da[vc]=!0;Da.withMutations=w.withMutations;Da.asMutable=w.asMutable;Da.asImmutable=w.asImmutable;Da.wasAltered=w.wasAltered;var Ca;a(G,Sa);G.of=function(){return this(arguments)};G.fromKeys=function(b){return this(u(b).keySeq())};G.prototype.toString=function(){return this.__toString("Set {","}")};G.prototype.has=function(b){return this._map.has(b)};
G.prototype.add=function(b){return Db(this,this._map.set(b,!0))};G.prototype.remove=function(b){return Db(this,this._map.remove(b))};G.prototype.clear=function(){return Db(this,this._map.clear())};G.prototype.union=function(){var b=ca.call(arguments,0),b=b.filter(function(b){return 0!==b.size});return 0===b.length?this:0===this.size&&!this.__ownerID&&1===b.length?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)L(b[c]).forEach(function(b){return a.add(b)})})};G.prototype.intersect=
function(){var b=ca.call(arguments,0);if(0===b.length)return this;var b=b.map(function(b){return L(b)}),a=this;return this.withMutations(function(c){a.forEach(function(a){b.every(function(b){return b.includes(a)})||c.remove(a)})})};G.prototype.subtract=function(){var b=ca.call(arguments,0);if(0===b.length)return this;var b=b.map(function(b){return L(b)}),a=this;return this.withMutations(function(c){a.forEach(function(a){b.some(function(b){return b.includes(a)})&&c.remove(a)})})};G.prototype.merge=
function(){return this.union.apply(this,arguments)};G.prototype.mergeWith=function(b){var a=ca.call(arguments,1);return this.union.apply(this,a)};G.prototype.sort=function(b){return ka(za(this,b))};G.prototype.sortBy=function(b,a){return ka(za(this,a,b))};G.prototype.wasAltered=function(){return this._map.wasAltered()};G.prototype.__iterate=function(b,a){var c=this;return this._map.__iterate(function(a,e){return b(e,e,c)},a)};G.prototype.__iterator=function(b,a){return this._map.map(function(b,a){return a}).__iterator(b,
a)};G.prototype.__ensureOwner=function(b){if(b===this.__ownerID)return this;var a=this._map.__ensureOwner(b);return!b?(this.__ownerID=b,this._map=a,this):this.__make(a,b)};G.isSet=Cb;var wc="@@__IMMUTABLE_SET__@@",X=G.prototype;X[wc]=!0;X["delete"]=X.remove;X.mergeDeep=X.merge;X.mergeDeepWith=X.mergeWith;X.withMutations=w.withMutations;X.asMutable=w.asMutable;X.asImmutable=w.asImmutable;X.__empty=Bb;X.__make=xc;var yc;a(ka,G);ka.of=function(){return this(arguments)};ka.fromKeys=function(b){return this(u(b).keySeq())};
ka.prototype.toString=function(){return this.__toString("OrderedSet {","}")};ka.isOrderedSet=zc;var $a=ka.prototype;$a[ua]=!0;$a.__empty=Eb;$a.__make=Ac;var Bc;a(Y,Ha);Y.prototype.toString=function(){return this.__toString((this._name||this.constructor.name||"Record")+" {","}")};Y.prototype.has=function(b){return this._defaultValues.hasOwnProperty(b)};Y.prototype.get=function(b,a){if(!this.has(b))return a;var c=this._defaultValues[b];return this._map?this._map.get(b,c):c};Y.prototype.clear=function(){if(this.__ownerID)return this._map&&
this._map.clear(),this;var b=this.constructor;return b._empty||(b._empty=ab(this,ia()))};Y.prototype.set=function(b,a){if(!this.has(b))throw Error('Cannot set unknown key "'+b+'" on '+(this._name||this.constructor.name||"Record"));var c=this._map&&this._map.set(b,a);return this.__ownerID||c===this._map?this:ab(this,c)};Y.prototype.remove=function(b){if(!this.has(b))return this;b=this._map&&this._map.remove(b);return this.__ownerID||b===this._map?this:ab(this,b)};Y.prototype.wasAltered=function(){return this._map.wasAltered()};
Y.prototype.__iterator=function(b,a){var c=this;return u(this._defaultValues).map(function(b,a){return c.get(a)}).__iterator(b,a)};Y.prototype.__iterate=function(b,a){var c=this;return u(this._defaultValues).map(function(b,a){return c.get(a)}).__iterate(b,a)};Y.prototype.__ensureOwner=function(b){if(b===this.__ownerID)return this;var a=this._map&&this._map.__ensureOwner(b);return!b?(this.__ownerID=b,this._map=a,this):ab(this,a,b)};var O=Y.prototype;O["delete"]=O.remove;O.deleteIn=O.removeIn=w.removeIn;
O.merge=w.merge;O.mergeWith=w.mergeWith;O.mergeIn=w.mergeIn;O.mergeDeep=w.mergeDeep;O.mergeDeepWith=w.mergeDeepWith;O.mergeDeepIn=w.mergeDeepIn;O.setIn=w.setIn;O.update=w.update;O.updateIn=w.updateIn;O.withMutations=w.withMutations;O.asMutable=w.asMutable;O.asImmutable=w.asImmutable;a(P,H);P.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1<this._step?" by "+this._step:"")+" ]"};P.prototype.get=function(b,a){return this.has(b)?this._start+l(this,
b)*this._step:a};P.prototype.includes=function(b){b=(b-this._start)/this._step;return 0<=b&&b<this.size&&b===Math.floor(b)};P.prototype.slice=function(b,a){if(t(b,a,this.size))return this;b=r(b,this.size,0);a=r(a,this.size,this.size);return a<=b?new P(0,0):new P(this.get(b,this._end),this.get(a,this._end),this._step)};P.prototype.indexOf=function(b){b-=this._start;return 0===b%this._step&&(b/=this._step,0<=b&&b<this.size)?b:-1};P.prototype.lastIndexOf=function(b){return this.indexOf(b)};P.prototype.__iterate=
function(b,a){for(var c=this.size-1,d=this._step,g=a?this._start+c*d:this._start,f=0;f<=c;f++){if(!1===b(g,f,this))return f+1;g+=a?-d:d}return f};P.prototype.__iterator=function(b,a){var c=this.size-1,d=this._step,g=a?this._start+c*d:this._start,f=0;return new A(function(){var l=g;g+=a?-d:d;return f>c?U():B(b,f++,l)})};P.prototype.equals=function(b){return b instanceof P?this._start===b._start&&this._end===b._end&&this._step===b._step:Fb(this,b)};var Gb;a(Q,H);Q.prototype.toString=function(){return 0===
this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Q.prototype.get=function(b,a){return this.has(b)?this._value:a};Q.prototype.includes=function(b){return M(this._value,b)};Q.prototype.slice=function(b,a){var c=this.size;return t(b,a,c)?this:new Q(this._value,r(a,c,c)-r(b,c,0))};Q.prototype.reverse=function(){return this};Q.prototype.indexOf=function(b){return M(this._value,b)?0:-1};Q.prototype.lastIndexOf=function(b){return M(this._value,b)?this.size:-1};Q.prototype.__iterate=
function(b,a){for(var c=0;c<this.size;c++)if(!1===b(this._value,c,this))return c+1;return c};Q.prototype.__iterator=function(b,a){var c=this,d=0;return new A(function(){return d<c.size?B(b,d++,c._value):U()})};Q.prototype.equals=function(b){return b instanceof Q?M(this._value,b._value):Fb(b)};var Hb;p.Iterator=A;la(p,{toArray:function(){W(this.size);var b=Array(this.size||0);this.valueSeq().__iterate(function(a,c){b[c]=a});return b},toIndexedSeq:function(){return new wa(this)},toJS:function(){return this.toSeq().map(function(b){return b&&
"function"===typeof b.toJS?b.toJS():b}).__toJS()},toJSON:function(){return this.toSeq().map(function(b){return b&&"function"===typeof b.toJSON?b.toJSON():b}).__toJS()},toKeyedSeq:function(){return new $(this,!0)},toMap:function(){return z(this.toKeyedSeq())},toObject:function(){W(this.size);var b={};this.__iterate(function(a,c){b[c]=a});return b},toOrderedMap:function(){return I(this.toKeyedSeq())},toOrderedSet:function(){return ka(E(this)?this.valueSeq():this)},toSet:function(){return G(E(this)?
this.valueSeq():this)},toSetSeq:function(){return new xa(this)},toSeq:function(){return q(this)?this.toIndexedSeq():E(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return J(E(this)?this.valueSeq():this)},toList:function(){return F(E(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(b,a){return 0===this.size?b+a:b+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+a},concat:function(){var b=ca.call(arguments,0);return C(this,Mc(this,b))},
includes:function(b){return this.some(function(a){return M(a,b)})},entries:function(){return this.__iterator(ha)},every:function(b,a){W(this.size);var c=!0;this.__iterate(function(d,g,f){if(!b.call(a,d,g,f))return c=!1});return c},filter:function(b,a){return C(this,Yb(this,b,a,!0))},find:function(b,a,c){return(b=this.findEntry(b,a))?b[1]:c},findEntry:function(b,a){var c;this.__iterate(function(d,g,f){if(b.call(a,d,g,f))return c=[g,d],!1});return c},findLastEntry:function(b,a){return this.toSeq().reverse().findEntry(b,
a)},forEach:function(b,a){W(this.size);return this.__iterate(a?b.bind(a):b)},join:function(b){W(this.size);b=void 0!==b?""+b:",";var a="",c=!0;this.__iterate(function(d){c?c=!1:a+=b;a+=null!==d&&void 0!==d?d.toString():""});return a},keys:function(){return this.__iterator(Ia)},map:function(b,a){return C(this,Xb(this,b,a))},reduce:function(b,a,c){W(this.size);var d,g;2>arguments.length?g=!0:d=a;this.__iterate(function(a,e,f){g?(g=!1,d=a):d=b.call(c,d,a,e,f)});return d},reduceRight:function(b,a,c){var d=
this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return C(this,qb(this,!0))},slice:function(b,a){return C(this,rb(this,b,a,!0))},some:function(b,a){return!this.every(bb(b),a)},sort:function(b){return C(this,za(this,b))},values:function(){return this.__iterator(aa)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(b,a){return f(b?this.toSeq().filter(b,a):this)},countBy:function(b,
a){return Jc(this,b,a)},equals:function(b){return Fb(this,b)},entrySeq:function(){var b=this;if(b._cache)return new fa(b._cache);var a=b.toSeq().map(Tc).toIndexedSeq();a.fromEntrySeq=function(){return b.toSeq()};return a},filterNot:function(b,a){return this.filter(bb(b),a)},findLast:function(b,a,c){return this.toKeyedSeq().reverse().find(b,a,c)},first:function(){return this.find(g)},flatMap:function(b,a){return C(this,Nc(this,b,a))},flatten:function(b){return C(this,$b(this,b,!0))},fromEntrySeq:function(){return new ya(this)},
get:function(b,a){return this.find(function(a,e){return M(e,b)},void 0,a)},getIn:function(b,a){for(var c=this,d=ec(b),g;!(g=d.next()).done;)if(g=g.value,c=c&&c.get?c.get(g,x):x,c===x)return a;return c},groupBy:function(b,a){return Kc(this,b,a)},has:function(b){return this.get(b,x)!==x},hasIn:function(b){return this.getIn(b,x)!==x},isSubset:function(b){b="function"===typeof b.includes?b:p(b);return this.every(function(a){return b.includes(a)})},isSuperset:function(b){b="function"===typeof b.isSubset?
b:p(b);return b.isSubset(this)},keySeq:function(){return this.toSeq().map(Sc).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(b){return Va(this,b)},maxBy:function(b,a){return Va(this,a,b)},min:function(b){return Va(this,b?Cc(b):Ec)},minBy:function(b,a){return Va(this,a?Cc(a):Ec,b)},rest:function(){return this.slice(1)},skip:function(b){return this.slice(Math.max(0,b))},skipLast:function(b){return C(this,this.toSeq().reverse().skip(b).reverse())},skipWhile:function(b,
a){return C(this,Zb(this,b,a,!0))},skipUntil:function(b,a){return this.skipWhile(bb(b),a)},sortBy:function(b,a){return C(this,za(this,a,b))},take:function(b){return this.slice(0,Math.max(0,b))},takeLast:function(b){return C(this,this.toSeq().reverse().take(b).reverse())},takeWhile:function(b,a){return C(this,Lc(this,b,a))},takeUntil:function(b,a){return this.takeWhile(bb(b),a)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Vc(this))}});var R=
p.prototype;R[Kb]=!0;R[Ib]=R.values;R.__toJS=R.toArray;R.__toStringMapper=Dc;R.inspect=R.toSource=function(){return this.toString()};R.chain=R.flatMap;R.contains=R.includes;(function(){try{Object.defineProperty(R,"length",{get:function(){if(!p.noLengthWarning){var b;try{throw Error();}catch(a){b=a.stack}if(-1===b.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+
b),this.size}}})}catch(b){}})();la(u,{flip:function(){return C(this,Wb(this))},findKey:function(b,a){var c=this.findEntry(b,a);return c&&c[0]},findLastKey:function(b,a){return this.toSeq().reverse().findKey(b,a)},keyOf:function(b){return this.findKey(function(a){return M(a,b)})},lastKeyOf:function(b){return this.findLastKey(function(a){return M(a,b)})},mapEntries:function(b,a){var c=this,d=0;return C(this,this.toSeq().map(function(g,f){return b.call(a,[f,g],d++,c)}).fromEntrySeq())},mapKeys:function(b,
a){var c=this;return C(this,this.toSeq().flip().map(function(d,g){return b.call(a,d,g,c)}).flip())}});var cb=u.prototype;cb[Lb]=!0;cb[Ib]=R.entries;cb.__toJS=R.toObject;cb.__toStringMapper=function(b,a){return JSON.stringify(a)+": "+Dc(b)};la(n,{toKeyedSeq:function(){return new $(this,!1)},filter:function(b,a){return C(this,Yb(this,b,a,!1))},findIndex:function(b,a){var c=this.findEntry(b,a);return c?c[0]:-1},indexOf:function(b){b=this.toKeyedSeq().keyOf(b);return void 0===b?-1:b},lastIndexOf:function(b){return this.toSeq().reverse().indexOf(b)},
reverse:function(){return C(this,qb(this,!1))},slice:function(b,a){return C(this,rb(this,b,a,!1))},splice:function(b,a){var c=arguments.length;a=Math.max(a|0,0);if(0===c||2===c&&!a)return this;var g=0>b?this.count():this.size;b=r(b,g,0);g=this.slice(0,b);return C(this,1===c?g:g.concat(d(arguments,2),this.slice(b+a)))},findLastIndex:function(b,a){var c=this.toKeyedSeq().findLastKey(b,a);return void 0===c?-1:c},first:function(){return this.get(0)},flatten:function(b){return C(this,$b(this,b,!1))},get:function(b,
a){b=l(this,b);return 0>b||Infinity===this.size||void 0!==this.size&&b>this.size?a:this.find(function(a,c){return c===b},void 0,a)},has:function(b){b=l(this,b);return 0<=b&&(void 0!==this.size?Infinity===this.size||b<this.size:-1!==this.indexOf(b))},interpose:function(b){return C(this,Oc(this,b))},interleave:function(){var b=[this].concat(d(arguments)),a=sb(this.toSeq(),H.of,b),c=a.flatten(!0);a.size&&(c.size=a.size*b.length);return C(this,c)},last:function(){return this.get(-1)},skipWhile:function(b,
a){return C(this,Zb(this,b,a,!1))},zip:function(){var b=[this].concat(d(arguments));return C(this,sb(this,Uc,b))},zipWith:function(b){var a=d(arguments);a[0]=this;return C(this,sb(this,b,a))}});n.prototype[Mb]=!0;n.prototype[ua]=!0;la(L,{get:function(b,a){return this.has(b)?b:a},includes:function(b){return this.has(b)},keySeq:function(){return this.valueSeq()}});L.prototype.has=R.includes;la(Z,u.prototype);la(H,n.prototype);la(da,L.prototype);la(Ha,u.prototype);la(va,n.prototype);la(Sa,L.prototype);
return{Iterable:p,Seq:K,Collection:oa,Map:z,OrderedMap:I,List:F,Stack:J,Set:G,OrderedSet:ka,Record:Y,Range:P,Repeat:Q,is:M,fromJS:hb}})},33:function(q,n){function a(a,h){h.forEach(function(h){Object.keys(Object(h)).forEach(function(c){a(c,h[c])})})}Object.defineProperty(n,"__esModule",{value:!0});n.isPromise=function(a){return!!a&&("object"===typeof a||"function"===typeof a)&&"function"===typeof a.then};n.eachObject=a;n.assign=function(m){for(var h=arguments.length,k=Array(1<h?h-1:0),c=1;c<h;c++)k[c-
1]=arguments[c];a(function(a,c){return m[a]=c},k);return m};n.isFunction=function(a){return"function"===typeof a}},35:function(q,n,a){q.exports={"default":a(207),__esModule:!0}},46:function(q,n,a){var m=a(5)["default"],h=a(3)["default"];n=a(8);a=function(){function a(){h(this,a)}m(a,[{key:"bootstrap",value:function(a){this.dispatch(a)}}]);return a}();n=n.createActions(a);window.StaticActions=n;q.exports=n},59:function(q,n,a){Object.defineProperty(n,"__esModule",{value:!0});var m=(a=a(20))&&a.__esModule?
a:{"default":a};n["default"]=function(a){a.config={setState:function(a,c){return this.state=c},getState:function(a){return a},onSerialize:function(a){return a.toJS()},onDeserialize:function(a){return m["default"].fromJS(a)}};return a};q.exports=n["default"]},71:function(q,n,a){var m=a(5)["default"],h=a(3)["default"],k=a(19)["default"],c=a(35)["default"],d=a(198);n=a(8);var f=a(413),l=a(46),g=a(192),t=a(184),r=a(372);a=a(595);var p=a.DEFAULT_COLLECTION_CONFIGURATIONS,u=a.DEFAULT_COLLECTION_CONFIGURATION,
Pa=a.DEFAULT_TEMPLATE_PAGE_CONFIGURATION;a=function(){function a(){h(this,a);this.bindListeners({handleLoadTemplate:g.LOAD_TEMPLATE,staticInitialized:l.BOOTSTRAP});this.exportPublicMethods({isTemplateOwner:this.isTemplateOwner,getCollectionConfig:this.getCollectionConfig,getCustomType:this.getCustomType,getPageConfig:this.getPageConfig})}m(a,[{key:"getCollectionConfig",value:function(a){return this.getState().collectionConfigs[a]}},{key:"getCustomType",value:function(a){return this.getState().customTypes[a]}},
{key:"getPageConfig",value:function(a){return this.getState().pageConfigs[a]}},{key:"isTemplateOwner",value:function(){var a=this.getState();return a.ownerWebsiteId===a.websiteId}},{key:"staticInitialized",value:function(a){this.setTemplateData(a.template);this.demoCollections=this.processDemoCollections(a.demoCollections);this.websiteId=a.website.id}},{key:"handleLoadTemplate",value:function(a){this.waitFor(f.dispatchToken);a.error?this.error=a.response:(this.error=null,this.setTemplateData(a.template),
this.demoCollections=this.processDemoCollections(a.demoCollections))}},{key:"setTemplateData",value:function(a){a&&(this.id=a.id,this.name=a.name,this.updatedOn=a.updatedOn,this.ownerWebsiteId=a.ownerWebsiteId,this.collectionConfigs=this.processCollectionConfigs(a.collectionConfigs),this.pageConfigs=this.processPageConfigs(a.pageConfigs),this.customTypes=this.processCustomTypes(a.customTypes),this.layouts=this.processLayouts(a.layouts),this.navigations=a.navigations)}},{key:"processCollectionConfigs",
value:function(a){a.products&&(a.products=k({},p.products,a.products),a.products.acceptTypes&&0===a.products.acceptTypes.length&&(a.products.acceptTypes=p.products.acceptTypes),a.products.ordering=t.USER);a=k({},p,a);a=d(a,function(a){a=k({},u,a);!0===a.index?a.folderBehavior=r.INDEX:!0===a.folder&&(a.folderBehavior=r.NONE);return a});var c=a.folders||a.folder;c&&(c.acceptTypes=this.calculateFolderAcceptTypes(a));return a}},{key:"calculateFolderAcceptTypes",value:function(a){var d=["subscription",
"gallery-block","template-page"];return c(a).filter(function(c){return a[c].folder?!1:-1===d.indexOf(c)}).concat(["link"])}},{key:"processPageConfigs",value:function(a){return d(a,function(a){return k({},Pa,a)})}},{key:"processCustomTypes",value:function(){return(0>=arguments.length||void 0===arguments[0]?[]:arguments[0]).reduce(function(a,c){a[c.name]=c;return a},{})}},{key:"processDemoCollections",value:function(a){return a||[]}},{key:"processLayouts",value:function(a){return a||{}}}]);return a}();
q.exports=n.createStore(a,"TemplateStore")},76:function(q,n){function a(){}Object.defineProperty(n,"__esModule",{value:!0});n.getInternalMethods=function(a,c){var d=c?h:m,f=c?a.prototype:a;return Object.getOwnPropertyNames(f).reduce(function(a,c){if(-1!==d.indexOf(c))return a;a[c]=f[c];return a},{})};n.warn=function(a){"undefined"!==typeof console&&console.warn(new ReferenceError(a))};n.uid=function(a,c){for(var d=0,f=c;Object.hasOwnProperty.call(a,f);)f=c+String(++d);return f};n.formatAsConstant=
function(a){return a.replace(/[a-z]([A-Z])/g,function(a){return a[0]+"_"+a[1].toLowerCase()}).toUpperCase()};n.dispatchIdentity=function(a){for(var c=arguments.length,d=Array(1<c?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];this.dispatch(d.length?[a].concat(d):a)};var m=Object.getOwnPropertyNames(a),h=Object.getOwnPropertyNames(a.prototype)},98:function(q,n,a){var m=a(96),h=a(56),k=a(253);q.exports=function(a,d){var f=(h.Object||{})[a]||Object[a],l={};l[a]=d(f);m(m.S+m.F*k(function(){f(1)}),"Object",l)}},
121:function(q,n){q.exports=function(){var a=[],m=function(h){h=a.indexOf(h);0<=h&&a.splice(h,1)};return{subscribe:function(h){a.push(h);return{dispose:function(){return m(h)}}},push:function(h){a.forEach(function(a){return a(h)})},unsubscribe:m}}},176:function(q,n,a){var m=a(5)["default"],h=a(3)["default"],k=a(19)["default"],c=a(510),d=a(548);n=a(8);var f=a(359),l=a(192);a=function(){function a(){h(this,a)}m(a,[{key:"loadAll",value:function(){var a=this;this.dispatch();return d.loadTemplateInstallations().then(function(c){a.actions.loadSuccess.defer(c.data)},
function(c){a.actions.loadFailure.defer(c.error)})}},{key:"setPreviewInstallation",value:function(a,d,g){var h=this,m=k({},a,{previewInstallationId:d});c.save(a.id,m).then(function(a){l.loadTemplate.defer(g);h.dispatch(d);setTimeout(f.refresh,1E3)},function(a){})}},{key:"setLiveInstallation",value:function(a,c){var g=this;d.setLiveInstallation(a).then(function(d){l.loadTemplate.defer(c);g.dispatch(a);setTimeout(f.refresh,1E3)},function(a){})}},{key:"setHomepageCollectionId",value:function(a){var c=
this;return d.setHomepageCollectionId(a).then(function(d){d={homepageCollectionId:a};c.dispatch(d);return d},function(d){d={homepageCollectionId:a,error:!0};c.dispatch(d);return d})}},{key:"updateInstallation",value:function(a){return d.updateInstallation(a).then(this.actions.loadAll)}},{key:"loadSuccess",value:function(a){this.dispatch(a)}},{key:"loadFailure",value:function(a){this.dispatch(a)}}]);return a}();q.exports=n.createActions(a)},181:function(q,n,a){var m=a(5)["default"],h=a(3)["default"];
n=a(8);var k=a(46),c=a(176);a=function(){function a(){h(this,a);this.templateInstallations={};this.bindListeners({handleLoadSuccess:c.LOAD_SUCCESS,handleLoadFailure:c.LOAD_FAILURE,handleStaticInitialized:k.BOOTSTRAP,handlePreviewSet:c.SET_PREVIEW_INSTALLATION,handleTemplateSet:c.SET_LIVE_INSTALLATION,handleHomepageCollectionIdSet:c.SET_HOMEPAGE_COLLECTION_ID});this.exportPublicMethods({getHomepageCollectionId:this.getHomepageCollectionId})}m(a,[{key:"getHomepageCollectionId",value:function(){return this.getState().activeInstallation?
this.getState().activeInstallation.homepageCollectionId:this.getState().homepageCollectionId}},{key:"handleStaticInitialized",value:function(a){var c=a.authenticatedAccountWebsiteSettings;this.previewInstallationId=c?c.previewInstallationId:null;this.homepageCollectionId=a.homepageCollectionId;a.templateInstallation?(this.liveInstallationId=a.templateInstallation.id,this.templateInstallations[this.liveInstallationId]=a.templateInstallation):this.liveInstallationId=null;this.updateInstallationReferences()}},
{key:"updateInstallationReferences",value:function(){this.liveInstallation=this.getTemplateInstallation(this.liveInstallationId);this.previewInstallation=null;this.previewInstallationId!==this.liveInstallationId&&(this.previewInstallation=this.getTemplateInstallation(this.previewInstallationId));this.activeInstallation=this.previewInstallation||this.liveInstallation}},{key:"getTemplateInstallation",value:function(a){return!a||!this.templateInstallations[a]?null:this.templateInstallations[a]}},{key:"handleHomepageCollectionIdSet",
value:function(a){a.error||(this.homepageCollectionId=a.homepageCollectionId,this.activeInstallation&&(this.activeInstallation.homepageCollectionId=a.homepageCollectionId))}},{key:"handlePreviewSet",value:function(a){this.previewInstallationId=a;this.updateInstallationReferences()}},{key:"handleTemplateSet",value:function(a){this.liveInstallationId=a;this.previewInstallationId=null;this.updateInstallationReferences()}},{key:"handleLoadSuccess",value:function(a){var c={};a.forEach(function(a){this[a.id]=
a},c);this.maintainMissingInstallation(c,this.liveInstallationId);this.maintainMissingInstallation(c,this.previewInstallationId);this.templateInstallations=c;this.updateInstallationReferences()}},{key:"maintainMissingInstallation",value:function(a,c){c&&!a[c]&&(a[c]=this.templateInstallations[c])}},{key:"handleLoadFailure",value:function(){console.error("Unable to load installations")}}]);return a}();q.exports=n.createStore(a,"TemplateInstallationsStore")},192:function(q,n,a){var m=a(5)["default"],
h=a(3)["default"];n=a(8);var k=a(547);a=function(){function a(){h(this,a)}m(a,[{key:"loadTemplate",value:function(a){var c=this;k.getTemplate(a).then(function(a){c.dispatch(a.data)},function(a){c.dispatch({error:!0,response:a})})}}]);return a}();q.exports=n.createActions(a)},200:function(q,n,a){function m(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}Object.defineProperty(n,"__esModule",{value:!0});
var h=function(){function a(c,d){for(var f=0;f<d.length;f++){var l=d[f];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(c,l.key,l)}}return function(c,d,f){d&&a(c.prototype,d);f&&a(c,f);return c}}();n["default"]=function(a,g,h,r,k){var u=d.uid(a._actionsRegistry,g+"."+h);a._actionsRegistry[u]=1;var m={id:u,namespace:g,name:h},n=new f(a,u,r,k,m),v=function(c){return a.dispatch(u,c,m)};r=function(){n.dispatched=!1;var a=n._dispatch.apply(n,arguments);
!n.dispatched&&(void 0!==a&&!c.isPromise(a))&&(c.isFunction(a)?a(v):v(a));return a};r.defer=function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];setTimeout(function(){n._dispatch.apply(null,c)})};r.id=u;r.data=m;g=a.actions[g];h=d.uid(g,h);return g[h]=r};var k=a(33),c=m(k);a=a(76);var d=m(a),f=function(){function a(c,d,f,h,k){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.id=d;this._dispatch=f.bind(this);this.actions=h;this.actionDetails=
k;this.alt=c}h(a,[{key:"dispatch",value:function(a){this.dispatched=!0;this.alt.dispatch(this.id,a,this.actionDetails)}}]);return a}();q.exports=n["default"]},201:function(q,n,a){function m(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}function h(a){if(Array.isArray(a)){for(var c=0,d=Array(a.length);c<a.length;c++)d[c]=a[c];return d}return Array.from(a)}function k(a,c){if("function"!==typeof c&&null!==
c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(a.__proto__=c)}function c(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(n,"__esModule",{value:!0});var d=Function.prototype.bind,f=function(){function a(c,d){for(var g=0;g<d.length;g++){var f=d[g];f.enumerable=f.enumerable||!1;f.configurable=
!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,d,g){d&&a(c.prototype,d);g&&a(c,g);return c}}(),l=a(210),g=a(205),t=m(g),g=a(33),r=m(g),g=a(204),p=m(g),g=a(76),u=m(g),Pa=(a=a(200))&&a.__esModule?a:{"default":a};a=function(){function a(d){d=void 0===d?{}:d;c(this,a);this.config=d;this.serialize=d.serialize||JSON.stringify;this.deserialize=d.deserialize||JSON.parse;this.dispatcher=d.dispatcher||new l.Dispatcher;this.batchingFunction=d.batchingFunction||function(a){return a()};
this.actions={global:{}};this.stores={};this.storeTransforms=d.storeTransforms||[];this.trapAsync=!1;this._actionsRegistry={};this._initSnapshot={};this._lastSnapshot={}}f(a,[{key:"dispatch",value:function(a,c,d){var g=this;this.batchingFunction(function(){var f=Math.random().toString(18).substr(2,16);return g.dispatcher.dispatch({id:f,action:a,data:c,details:d})})}},{key:"createUnsavedStore",value:function(a){var c=a.displayName||"";p.createStoreConfig(this.config,a);for(var d=p.transformStore(this.storeTransforms,
a),g=arguments.length,f=Array(1<g?g-1:0),l=1;l<g;l++)f[l-1]=arguments[l];return r.isFunction(d)?p.createStoreFromClass.apply(p,[this,d,c].concat(f)):p.createStoreFromObject(this,d,c)}},{key:"createStore",value:function(a,c){var d=c||a.displayName||a.name||"";p.createStoreConfig(this.config,a);var g=p.transformStore(this.storeTransforms,a);if(this.stores[d]||!d)this.stores[d]?u.warn("A store named "+d+" already exists, double check your store names or pass in your own custom identifier for each store"):
u.warn("Store name was not specified"),d=u.uid(this.stores,d);for(var f=arguments.length,l=Array(2<f?f-2:0),h=2;h<f;h++)l[h-2]=arguments[h];g=r.isFunction(g)?p.createStoreFromClass.apply(p,[this,g,d].concat(l)):p.createStoreFromObject(this,g,d);this.stores[d]=g;t.saveInitialSnapshot(this,d);return g}},{key:"generateActions",value:function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return this.createActions(c.reduce(function(a,c){a[c]=u.dispatchIdentity;return a},{name:"global"}))}},
{key:"createAction",value:function(a,c,d){return(0,Pa["default"])(this,"global",a,c,d)}},{key:"createActions",value:function(a){var g=arguments,l=this,p=void 0===arguments[1]?{}:arguments[1],t={},m=u.uid(this._actionsRegistry,a.displayName||a.name||"Unknown");if(r.isFunction(a)){var n,q,L;(function(){r.assign(t,u.getInternalMethods(a,!0));var l=function(a){function d(){c(this,d);for(var a=arguments.length,g=Array(a),f=0;f<a;f++)g[f]=arguments[f];a:{var l=Object.getPrototypeOf(d.prototype),f="constructor",
a=this,h=!0;for(;h;)if(null===l&&(l=Function.prototype),h=Object.getOwnPropertyDescriptor(l,f),void 0===h){l=Object.getPrototypeOf(l);if(null===l)break;h=!0}else{if("value"in h){a=h.value;break a}f=h.get;a=void 0===f?void 0:f.call(a);break a}a=void 0}a.apply(this,g)}k(d,a);f(d,[{key:"generateActions",value:function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];c.forEach(function(a){t[a]=u.dispatchIdentity})}}]);return d}(a);n=g.length;q=Array(2<n?n-2:0);for(L=2;L<n;L++)q[L-
2]=g[L];r.assign(t,new (d.apply(l,[null].concat(h(q)))))})()}else r.assign(t,a);this.actions[m]=this.actions[m]||{};r.eachObject(function(a,c){if(r.isFunction(c)){p[a]=(0,Pa["default"])(l,m,a,c,p);var d=u.formatAsConstant(a);p[d]=p[a].id}},[t]);return p}},{key:"takeSnapshot",value:function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];a=t.snapshot(this,c);r.assign(this._lastSnapshot,a);return this.serialize(a)}},{key:"rollback",value:function(){t.setAppState(this,this.serialize(this._lastSnapshot),
function(a){a.lifecycle("rollback");a.emitChange()})}},{key:"recycle",value:function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];a=c.length?t.filterSnapshots(this,this._initSnapshot,c):this._initSnapshot;t.setAppState(this,this.serialize(a),function(a){a.lifecycle("init");a.emitChange()})}},{key:"flush",value:function(){var a=this.serialize(t.snapshot(this));this.recycle();return a}},{key:"bootstrap",value:function(a){t.setAppState(this,a,function(a){a.lifecycle("bootstrap");
a.emitChange()})}},{key:"prepare",value:function(a,c){var d={};if(!a.displayName)throw new ReferenceError("Store provided does not have a name");d[a.displayName]=c;return this.serialize(d)}},{key:"addActions",value:function(a,c){for(var d=arguments.length,g=Array(2<d?d-2:0),f=2;f<d;f++)g[f-2]=arguments[f];this.actions[a]=Array.isArray(c)?this.generateActions.apply(this,c):this.createActions.apply(this,[c].concat(g))}},{key:"addStore",value:function(a,c){for(var d=arguments.length,g=Array(2<d?d-2:
0),f=2;f<d;f++)g[f-2]=arguments[f];this.createStore.apply(this,[c,a].concat(g))}},{key:"getActions",value:function(a){return this.actions[a]}},{key:"getStore",value:function(a){return this.stores[a]}}],[{key:"debug",value:function(a,c){"undefined"!==typeof window&&(window["alt.js.org"]=window["alt.js.org"]||[],window["alt.js.org"].push({name:a,alt:c}));return c}}]);return a}();n["default"]=a;q.exports=n["default"]},202:function(q,n,a){Object.defineProperty(n,"__esModule",{value:!0});var m=function(){function a(c,
f){for(var l=0;l<f.length;l++){var g=f[l];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}return function(d,f,l){f&&a(d.prototype,f);l&&a(d,l);return d}}(),h=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(d[f]=a[f]);d["default"]=a;return d}(a(33)),k=(a=a(121))&&a.__esModule?a:{"default":a};a=function(){function a(d,f,l,g){var t=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var r=f.lifecycleEvents;this.transmitter=(0,k["default"])();this.lifecycle=function(a,c){r[a]&&r[a].push(c)};this.state=l||f;this.preventDefault=!1;this.displayName=f.displayName;this.boundListeners=f.boundListeners;this.StoreModel=g;var p=f.output||function(a){return a};this.emitChange=function(){return t.transmitter.push(p(t.state))};var u=function(a,c){try{return a()}catch(d){if(f.handlesOwnErrors)return t.lifecycle("error",{error:d,payload:c,state:t.state}),!1;throw d;}};h.assign(this,f.publicMethods);
this.dispatchToken=d.dispatcher.register(function(a){t.preventDefault=!1;t.lifecycle("beforeEach",{payload:a,state:t.state});var c=f.actionListeners[a.action]||f.otherwise;c&&!1!==u(function(){return c.call(f,a.data,a.action)},a)&&!t.preventDefault&&t.emitChange();f.reduce&&(u(function(){f.setState(f.reduce(t.state,a))},a),t.preventDefault||t.emitChange());t.lifecycle("afterEach",{payload:a,state:t.state})});this.lifecycle("init")}m(a,[{key:"listen",value:function(a){var c=this;this.transmitter.subscribe(a);
return function(){return c.unlisten(a)}}},{key:"unlisten",value:function(a){this.lifecycle("unlisten");this.transmitter.unsubscribe(a)}},{key:"getState",value:function(){return this.StoreModel.config.getState.call(this,this.state)}}]);return a}();n["default"]=a;q.exports=n["default"]},203:function(q,n,a){Object.defineProperty(n,"__esModule",{value:!0});var m=a(121),h=m&&m.__esModule?m:{"default":m},k=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,
f)&&(d[f]=a[f]);d["default"]=a;return d}(a(33));n["default"]={waitFor:function(){for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];if(!d.length)throw new ReferenceError("Dispatch tokens not provided");a=d;1===d.length&&(a=Array.isArray(d[0])?d[0]:d);d=a.map(function(a){return a.dispatchToken||a});this.dispatcher.waitFor(d)},exportAsync:function(a){this.registerAsync(a)},registerAsync:function(a){var d=this,f=0,l=k.isFunction(a)?a(this.alt):a;a=Object.keys(l).reduce(function(a,c){var h=
l[c],p=k.isFunction(h)?h(d):h;["success","error","loading"].forEach(function(a){if(p[a]&&!p[a].id)throw Error(a+" handler must be an action function");});a[c]=function(){for(var a=arguments.length,c=Array(a),g=0;g<a;g++)c[g]=arguments[g];var a=d.getInstance().getState(),g=p.local&&p.local.apply(p,[a].concat(c)),g=p.shouldFetch?p.shouldFetch.apply(p,[a].concat(c)):null==g,l=p.interceptResponse||function(a){return a},h=function(a,g){return function(h){var r=function(){f-=1;a(l(h,a,c));if(g)throw h;
};return d.alt.trapAsync?function(){return r()}:r()}};if(g)return f+=1,p.loading&&p.loading(l(null,p.loading,c)),p.remote.apply(p,[a].concat(c)).then(h(p.success),h(p.error,1));d.emitChange()};return a},{});this.exportPublicMethods(a);this.exportPublicMethods({isLoading:function(){return 0<f}})},exportPublicMethods:function(a){var d=this;k.eachObject(function(a,c){if(!k.isFunction(c))throw new TypeError("exportPublicMethods expects a function");d.publicMethods[a]=c},[a])},emitChange:function(){this.getInstance().emitChange()},
on:function(a,d){"error"===a&&(this.handlesOwnErrors=!0);var f=this.lifecycleEvents[a]||(0,h["default"])();this.lifecycleEvents[a]=f;return f.subscribe(d.bind(this))},bindAction:function(a,d){if(!a)throw new ReferenceError("Invalid action reference passed in");if(!k.isFunction(d))throw new TypeError("bindAction expects a function");if(1<d.length)throw new TypeError("Action handler in store "+this.displayName+" for "+((a.id||a).toString()+" was defined with ")+"two parameters. Only a single parameter is passed through the dispatcher, did you mean to pass in an Object instead?");
var f=a.id?a.id:a;this.actionListeners[f]=d.bind(this);this.boundListeners.push(f)},bindActions:function(a){var d=this;k.eachObject(function(a,c){var g=a.replace(/./,function(a){return"on"+a[0].toUpperCase()}),h=null;if(d[a]&&d[g])throw new ReferenceError("You have multiple action handlers bound to an action: "+(a+" and "+g));d[a]?h=d[a]:d[g]&&(h=d[g]);h&&d.bindAction(c,h)},[a])},bindListeners:function(a){var d=this;k.eachObject(function(a,c){var g=d[a];if(!g)throw new ReferenceError(a+" defined but does not exist in "+
d.displayName);Array.isArray(c)?c.forEach(function(a){d.bindAction(a,g)}):d.bindAction(c,g)},[a])}};q.exports=n["default"]},204:function(q,n,a){function m(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}function h(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});c&&(a.__proto__=c)}function k(a,c,d){if(d){var g=c.StoreModel.config;d=l.isFunction(d)?d(c.state):d;c.state=g.setState.call(a,c.state,d);a.alt.dispatcher.isDispatching()||a.emitChange()}}function c(a,c,d,g){a.boundListeners=[];a.lifecycleEvents={};a.actionListeners={};a.publicMethods={};a.handlesOwnErrors=!1;return l.assign(a,t["default"],{displayName:d,alt:c,dispatcher:c.dispatcher,preventDefault:function(){this.getInstance().preventDefault=!0}},g)}Object.defineProperty(n,
"__esModule",{value:!0});var d=Function.prototype.bind;n.createStoreConfig=function(a,c){c.config=l.assign({getState:function(a){return l.assign({},a)},setState:l.assign},a,c.config)};n.transformStore=function(a,c){return a.reduce(function(a,c){return c(a)},c)};n.createStoreFromObject=function(a,d,f){var h=void 0,m=c({},a,f,l.assign({getInstance:function(){return h},setState:function(a){k(this,h,a)}},d));m.bindListeners&&t["default"].bindListeners.call(m,m.bindListeners);m.observe&&t["default"].bindListeners.call(m,
m.observe(a));m.lifecycle&&l.eachObject(function(a,c){t["default"].on.call(m,a,c)},[m.lifecycle]);return h=l.assign(new g["default"](a,m,m.state||{},d),m.publicMethods,{displayName:f})};n.createStoreFromClass=function(a,p,t){var m=void 0,n=p.config,q=function(a){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");for(var a=arguments.length,d=Array(a),g=0;g<a;g++)d[g]=arguments[g];a:{var f=Object.getPrototypeOf(c.prototype),g="constructor",a=this,l=!0;for(;l;)if(null===
f&&(f=Function.prototype),l=Object.getOwnPropertyDescriptor(f,g),void 0===l){f=Object.getPrototypeOf(f);if(null===f)break;l=!0}else{if("value"in l){a=l.value;break a}g=l.get;a=void 0===g?void 0:g.call(a);break a}a=void 0}a.apply(this,d)}h(c,a);return c}(p);c(q.prototype,a,t,{getInstance:function(){return m},setState:function(a){k(this,m,a)}});for(var E=arguments.length,Jb=Array(3<E?E-3:0),ma=3;ma<E;ma++)Jb[ma-3]=arguments[ma];q=new (d.apply(q,[null].concat(Jb)));n.bindListeners&&q.bindListeners(n.bindListeners);
n.datasource&&q.registerAsync(n.datasource);return m=l.assign(new g["default"](a,q,"object"===typeof q.state?q.state:null,p),f.getInternalMethods(p),n.publicMethods,{displayName:t})};q=a(76);var f=m(q);q=a(33);var l=m(q),g=(q=a(202))&&q.__esModule?q:{"default":q},t=(a=a(203))&&a.__esModule?a:{"default":a}},205:function(q,n,a){Object.defineProperty(n,"__esModule",{value:!0});n.setAppState=function(a,k,c){var d=a.deserialize(k);m.eachObject(function(f,l){var g=a.stores[f];g&&function(){var a=g.StoreModel.config,
h=g.state;a.onDeserialize&&(d[f]=a.onDeserialize(l)||l);m.eachObject(function(a){return delete h[a]},[h]);m.assign(h,d[f]);c(g)}()},[d])};n.snapshot=function(a,k){var c=void 0===k?[]:k;return(c.length?c:Object.keys(a.stores)).reduce(function(c,f){var l=f.displayName||f,g=a.stores[l],k=g.StoreModel.config;g.lifecycle("snapshot");k=k.onSerialize&&k.onSerialize(g.state);c[l]=k?k:g.getState();return c},{})};n.saveInitialSnapshot=function(a,k){var c=a.deserialize(a.serialize(a.stores[k].state));a._initSnapshot[k]=
c;a._lastSnapshot[k]=c};n.filterSnapshots=function(a,k,c){return c.reduce(function(a,c){var l=c.displayName||c;if(!k[l])throw new ReferenceError(l+" is not a valid store");a[l]=k[l];return a},{})};var m=function(a){if(a&&a.__esModule)return a;var k={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(k[c]=a[c]);k["default"]=a;return k}(a(33))},207:function(q,n,a){a(208);q.exports=a(56).Object.keys},208:function(q,n,a){var m=a(235);a(98)("keys",function(a){return function(k){return a(m(k))}})},
210:function(q,n,a){q.exports.Dispatcher=a(211)},211:function(q,n,a){function m(){this.$Dispatcher_callbacks={};this.$Dispatcher_isPending={};this.$Dispatcher_isHandled={};this.$Dispatcher_isDispatching=!1;this.$Dispatcher_pendingPayload=null}var h=a(212),k=1;m.prototype.register=function(a){var d="ID_"+k++;this.$Dispatcher_callbacks[d]=a;return d};m.prototype.unregister=function(a){h(this.$Dispatcher_callbacks[a],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",a);delete this.$Dispatcher_callbacks[a]};
m.prototype.waitFor=function(a){h(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var d=0;d<a.length;d++){var f=a[d];this.$Dispatcher_isPending[f]?h(this.$Dispatcher_isHandled[f],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",f):(h(this.$Dispatcher_callbacks[f],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",f),this.$Dispatcher_invokeCallback(f))}};m.prototype.dispatch=function(a){h(!this.$Dispatcher_isDispatching,
"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this.$Dispatcher_startDispatching(a);try{for(var d in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[d]||this.$Dispatcher_invokeCallback(d)}finally{this.$Dispatcher_stopDispatching()}};m.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching};m.prototype.$Dispatcher_invokeCallback=function(a){this.$Dispatcher_isPending[a]=!0;this.$Dispatcher_callbacks[a](this.$Dispatcher_pendingPayload);this.$Dispatcher_isHandled[a]=
!0};m.prototype.$Dispatcher_startDispatching=function(a){for(var d in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[d]=!1,this.$Dispatcher_isHandled[d]=!1;this.$Dispatcher_pendingPayload=a;this.$Dispatcher_isDispatching=!0};m.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null;this.$Dispatcher_isDispatching=!1};q.exports=m},212:function(q,n){q.exports=function(a,m,h,k,c,d,f,l){if(!a){if(void 0===m)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
else{var g=[h,k,c,d,f,l],t=0;a=Error("Invariant Violation: "+m.replace(/%s/g,function(){return g[t++]}))}a.framesToPop=1;throw a;}}},215:function(q,n){YUI.add("model",function(a,m){function h(){h.superclass.constructor.apply(this,arguments)}var k=YUI.namespace("Env.Model"),c=a.Lang,d=a.Array,f=a.Object,l="error";a.Model=a.extend(h,a.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(a){this.changed={};this.lastChange={};this.lists=[]},destroy:function(a,c){var f=this;"function"===
typeof a&&(c=a,a=null);f.onceAfter("destroy",function(){function l(h){h||d.each(f.lists.concat(),function(c){c.remove(f,a)});c&&c.apply(null,arguments)}a&&(a.remove||a["delete"])?f.sync("delete",a,l):l()});return h.superclass.destroy.call(f)},generateClientId:function(){k.lastId||(k.lastId=0);return this.constructor.NAME+"_"+(k.lastId+=1)},getAsHTML:function(d){d=this.get(d);return a.Escape.html(c.isValue(d)?String(d):"")},getAsURL:function(a){a=this.get(a);return encodeURIComponent(c.isValue(a)?
String(a):"")},isModified:function(){return this.isNew()||!f.isEmpty(this.changed)},isNew:function(){return!c.isValue(this.get("id"))},load:function(a,c){var d=this;"function"===typeof a&&(c=a,a={});a||(a={});d.sync("read",a,function(f,h){var k={options:a,response:h},m;f?(k.error=f,k.src="load",d.fire(l,k)):(d._loadEvent||(d._loadEvent=d.publish("load",{preventable:!1})),m=k.parsed=d._parse(h),d.setAttrs(m,a),d.changed={},d.fire("load",k));c&&c.apply(null,arguments)});return d},parse:function(c){if("string"===
typeof c)try{return a.JSON.parse(c)}catch(d){return this.fire(l,{error:d,response:c,src:"parse"}),null}return c},save:function(a,c){var d=this;"function"===typeof a&&(c=a,a={});a||(a={});d._validate(d.toJSON(),function(f){f?c&&c.call(null,f):d.sync(d.isNew()?"create":"update",a,function(f,h){var k={options:a,response:h},p;f?(k.error=f,k.src="save",d.fire(l,k)):(d._saveEvent||(d._saveEvent=d.publish("save",{preventable:!1})),h&&(p=k.parsed=d._parse(h),d.setAttrs(p,a)),d.changed={},d.fire("save",k));
c&&c.apply(null,arguments)})});return d},set:function(a,c,d){var f={};f[a]=c;return this.setAttrs(f,d)},setAttrs:function(c,d){var l=this.idAttribute,h,k,m,n;d=a.merge(d);n=d._transaction={};"id"!==l&&(c=a.merge(c),f.owns(c,l)?c.id=c[l]:f.owns(c,"id")&&(c[l]=c.id));for(k in c)f.owns(c,k)&&this._setAttr(k,c[k],d);if(!f.isEmpty(n)){l=this.changed;m=this.lastChange={};for(k in n)f.owns(n,k)&&(h=n[k],l[k]=h.newVal,m[k]={newVal:h.newVal,prevVal:h.prevVal,src:h.src||null});d.silent||(this._changeEvent||
(this._changeEvent=this.publish("change",{preventable:!1})),d.changed=m,this.fire("change",d))}return this},sync:function(){var a=d(arguments,0,!0).pop();"function"===typeof a&&a()},toJSON:function(){var a=this.getAttrs();delete a.clientId;delete a.destroyed;delete a.initialized;"id"!==this.idAttribute&&delete a.id;return a},undo:function(a,c){var l=this.lastChange,h=this.idAttribute,k={},m;a||(a=f.keys(l));d.each(a,function(a){f.owns(l,a)&&(a=a===h?"id":a,m=!0,k[a]=l[a].prevVal)});return m?this.setAttrs(k,
c):this},validate:function(a,c){c&&c()},addAttr:function(a,d,f){var l=this.idAttribute,k;l&&a===l&&(l=this._isLazyAttr("id")||this._getAttrCfg("id"),k=d.value===d.defaultValue?null:d.value,c.isValue(k)||(k=l.value===l.defaultValue?null:l.value,c.isValue(k)||(k=c.isValue(d.defaultValue)?d.defaultValue:l.defaultValue)),d.value=k,l.value!==k&&(l.value=k,this._isLazyAttr("id")?this._state.add("id","lazy",l):this._state.add("id","value",k)));return h.superclass.addAttr.apply(this,arguments)},_parse:function(a){return this.parse(a)},
_validate:function(a,d){function f(k){c.isValue(k)?(h.fire(l,{attributes:a,error:k,src:"validate"}),d(k)):d()}var h=this;1===h.validate.length?f(h.validate(a,f)):h.validate(a,f)},_setAttrVal:function(a,c,d,f,l,k){var m=h.superclass._setAttrVal.apply(this,arguments),n=l&&l._transaction,q=k&&k.initializing;m&&(n&&!q)&&(n[a]={newVal:this.get(a),prevVal:d,src:l.src||null});return m}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"3.17.2",{requires:["base-build",
"escape","json-parse"]})},217:function(q,n){q.exports={QUEUED:1,PROCESSING:2,READY:3,ERROR:4,DOWNLOAD_ERROR:5,ERROR_TOO_LARGE:6,ERROR_FILE_NOT_FOUND:7,ERROR_UNSUPPORTED_IMAGE_TYPE:8,ERROR_UNSUPPORTED_AUDIO_TYPE:9}},240:function(q,n){q.exports={ENABLED:1,DISABLED:2}},356:function(q,n){YUI.add("squarespace-model-sync-rest",function(a){function m(){this._ioConfigCache={}}m.prototype={sync:function(h,k,c){a.Lang.isValue(k.timeout)||(k.timeout=1E7);a.ModelSync.REST.prototype.sync.apply(this,arguments)},
_storeRequest:function(h,k){this._ioConfigCache[h.id]=a.merge(k,{})},_retrieveAndEvict:function(a){var k=this._ioConfigCache[a];this._ioConfigCache[a]=null;return k},_isCrumbFailure:function(a){return a&&a.crumbFail&&a.crumb},_sendSyncIORequest:function(h){var k=a.ModelSync.REST.prototype._sendSyncIORequest.apply(this,arguments);this._storeRequest(k,h);return k},_onSyncIOEnd:function(h,k){this._retrieveAndEvict(h);a.ModelSync.REST.prototype._onSyncIOEnd.apply(this,arguments)},_onSyncIOSuccess:function(h,
k,c){var d=this._retrieveAndEvict(h),f={},l=k.responseText;a.Lang.isValue(l)&&l.trim()&&(f=a.JSON.parse(l));this._isCrumbFailure(f)?(f=f.crumb,a.ModelSync.REST.CSRF_TOKEN=f,a.Env.CSRF_TOKEN=f,d.headers["X-CSRF-Token"]=f,this._sendSyncIORequest(d)):a.ModelSync.REST.prototype._onSyncIOSuccess.apply(this,arguments)},_onSyncIOFailure:function(h,k,c){if(h=c.callback){c={};var d=k.responseText;a.Lang.isValue(d)&&d.trim()&&(c=a.JSON.parse(d));h({code:k.status,msg:k.statusText,responseJSON:c},k)}}};a.mix(m,
a.ModelSync.REST,!1,null,1);a.namespace("Squarespace.ModelSync").REST=m},"1.0",{requires:["model-sync-rest"]})},357:function(q,n){YUI.add("model-list",function(a,m){function h(){h.superclass.constructor.apply(this,arguments)}var k=a.Attribute.prototype,c=a.Lang,d=a.Array;a.ModelList=a.extend(h,a.Base,{model:a.Model,_isYUIModelList:!0,initializer:function(c){c||(c={});var d=this.model=c.model||this.model;"string"===typeof d&&((this.model=a.Object.getValue(a,d.split(".")))||a.error("ModelList: Model class not found: "+
d));this.publish("add",{defaultFn:this._defAddFn});this.publish("reset",{defaultFn:this._defResetFn});this.publish("remove",{defaultFn:this._defRemoveFn});this.after("*:idChange",this._afterIdChange);this._clear();c.items&&this.add(c.items,{silent:!0})},destructor:function(){this._clear()},add:function(f,l){var g=f._isYUIModelList;return g||c.isArray(f)?d.map(g?f.toArray():f,function(c,d){var g=l||{};"index"in g&&(g=a.merge(g,{index:g.index+d}));return this._add(c,g)},this):this._add(f,l)},create:function(c,
d,g){var h=this;"function"===typeof d&&(g=d,d={});d||(d={});c._isYUIModel||(c=new this.model(c));h.fire("create",a.merge(d,{model:c}));return c.save(d,function(a){a||h.add(c,d);g&&g.apply(null,arguments)})},each:function(a,c){var d=this._items.concat(),h,k,p;h=0;for(p=d.length;h<p;h++)k=d[h],a.call(c||k,k,h,this);return this},filter:function(a,c){var d=[],h=this._items,k,p,m;"function"===typeof a&&(c=a,a={});k=0;for(m=h.length;k<m;++k)p=h[k],c.call(this,p,k,this)&&d.push(p);return a.asList?(h=new this.constructor({model:this.model}),
d.length&&h.add(d,{silent:!0}),h):d},get:function(a){return this.attrAdded(a)?k.get.apply(this,arguments):this.invoke("get",a)},getAsHTML:function(c){return this.attrAdded(c)?a.Escape.html(k.get.apply(this,arguments)):this.invoke("getAsHTML",c)},getAsURL:function(a){return this.attrAdded(a)?encodeURIComponent(k.get.apply(this,arguments)):this.invoke("getAsURL",a)},getByClientId:function(a){return this._clientIdMap[a]||null},getById:function(a){return this._idMap[a]||null},invoke:function(a){var c=
[this._items,a].concat(d(arguments,1,!0));return d.invoke.apply(d,c)},load:function(a,c){var d=this;"function"===typeof a&&(c=a,a={});a||(a={});this.sync("read",a,function(h,k){var p={options:a,response:k},m;h?(p.error=h,p.src="load",d.fire("error",p)):(d._loadEvent||(d._loadEvent=d.publish("load",{preventable:!1})),m=p.parsed=d._parse(k),d.reset(m,a),d.fire("load",p));c&&c.apply(null,arguments)});return this},map:function(a,c){return d.map(this._items,a,c)},parse:function(c){if("string"===typeof c)try{return a.JSON.parse(c)||
[]}catch(d){return this.fire("error",{error:d,response:c,src:"parse"}),null}return c||[]},remove:function(a,l){var g=a._isYUIModelList;return g||c.isArray(a)?(a=d.map(g?a.toArray():a,function(a){return c.isNumber(a)?this.item(a):a},this),d.map(a,function(a){return this._remove(a,l)},this)):this._remove(a,l)},reset:function(c,l){c||(c=[]);l||(l={});var g=a.merge({src:"reset"},l);c=c._isYUIModelList?c.toArray():d.map(c,function(a){return a._isYUIModel?a:new this.model(a)},this);g.models=c;l.silent?
this._defResetFn(g):(this.comparator&&c.sort(a.bind(this._sort,this)),this.fire("reset",g));return this},some:function(a,c){var d=this._items.concat(),h,k,p;h=0;for(p=d.length;h<p;h++)if(k=d[h],a.call(c||k,k,h,this))return!0;return!1},sort:function(c){if(!this.comparator)return this;var d=this._items.concat();c||(c={});d.sort(a.rbind(this._sort,this,c));d=a.merge(c,{models:d,src:"sort"});c.silent?this._defResetFn(d):this.fire("reset",d);return this},sync:function(){var a=d(arguments,0,!0).pop();"function"===
typeof a&&a()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(a){return a.toJSON()})},_add:function(d,l){var g;l||(l={});d._isYUIModel||(d=new this.model(d));g=d.get("id");if(this._clientIdMap[d.get("clientId")]||c.isValue(g)&&this._idMap[g])this.fire("error",{error:"Model is already in the list.",model:d,src:"add"});else return g=a.merge(l,{index:"index"in l?l.index:this._findIndex(d),model:d}),l.silent?this._defAddFn(g):this.fire("add",g),d},_attachList:function(a){a.lists.push(this);
a.addTarget(this)},_clear:function(){d.each(this._items,this._detachList,this);this._clientIdMap={};this._idMap={};this._items=[]},_compare:function(a,c){return a<c?-1:a>c?1:0},_detachList:function(a){var c=d.indexOf(a.lists,this);-1<c&&(a.lists.splice(c,1),a.removeTarget(this))},_findIndex:function(a){var c=this._items,d=c.length,h=0,k,p;if(!this.comparator||!d)return d;for(p=this.comparator(a);h<d;)k=h+d>>1,a=c[k],0>this._compare(this.comparator(a),p)?h=k+1:d=k;return h},_parse:function(a){return this.parse(a)},
_remove:function(d,l){var g;l||(l={});c.isNumber(d)?(g=d,d=this.item(g)):g=this.indexOf(d);if(-1===g||!d)this.fire("error",{error:"Model is not in the list.",index:g,model:d,src:"remove"});else return g=a.merge(l,{index:g,model:d}),l.silent?this._defRemoveFn(g):this.fire("remove",g),d},_sort:function(a,c,d){a=this._compare(this.comparator(a),this.comparator(c));return 0===a?a:d&&d.descending?-a:a},_afterIdChange:function(a){var d=a.newVal,g=a.prevVal;a=a.target;if(c.isValue(g))if(this._idMap[g]===
a)delete this._idMap[g];else return;else if(-1===this.indexOf(a))return;c.isValue(d)&&(this._idMap[d]=a)},_defAddFn:function(a){var d=a.model,g=d.get("id");this._clientIdMap[d.get("clientId")]=d;c.isValue(g)&&(this._idMap[g]=d);this._attachList(d);this._items.splice(a.index,0,d)},_defRemoveFn:function(a){var d=a.model,g=d.get("id");this._detachList(d);delete this._clientIdMap[d.get("clientId")];c.isValue(g)&&delete this._idMap[g];this._items.splice(a.index,1)},_defResetFn:function(a){"sort"===a.src?
this._items=a.models.concat():(this._clear(),a.models.length&&this.add(a.models,{silent:!0}))}},{NAME:"modelList"});a.augment(h,a.ArrayList)},"3.17.2",{requires:"array-extras array-invoke arraylist base-build escape json-parse model".split(" ")})},358:function(q,n){YUI.add("model-sync-rest",function(a,m){function h(){}var k=a.Lang;h.CSRF_TOKEN=YUI.Env.CSRF_TOKEN;h.EMULATE_HTTP=!1;h.HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"};h.HTTP_METHODS={create:"POST",read:"GET",
update:"PUT","delete":"DELETE"};h.HTTP_TIMEOUT=3E4;h._NON_ATTRS_CFG=["root","url"];h.prototype={root:"",url:"",initializer:function(a){a||(a={});"root"in a&&(this.root=a.root||"");"url"in a&&(this.url=a.url||"")},getURL:function(c,d){var f=this.root,l=this.url;return this._isYUIModelList?!l?this.model.prototype.root:this._substituteURL(l,a.merge(this.getAttrs(),d)):f&&("create"===c||this.isNew())?f:!l?this._joinURL(this.getAsURL("id")||""):this._substituteURL(l,a.merge(this.getAttrs(),d))},parseIOResponse:function(a){return a.responseText},
serialize:function(c){return a.JSON.stringify(this)},sync:function(c,d,f){d||(d={});var l=this.getURL(c,d),g=h.HTTP_METHODS[c],k=a.merge(h.HTTP_HEADERS,d.headers),r=d.timeout||h.HTTP_TIMEOUT;d=d.csrfToken||h.CSRF_TOKEN;var p;"POST"===g||"PUT"===g?p=this.serialize(c):delete k["Content-Type"];if(h.EMULATE_HTTP&&("PUT"===g||"DELETE"===g))k["X-HTTP-Method-Override"]=g,g="POST";if(d&&("POST"===g||"PUT"===g||"DELETE"===g))k["X-CSRF-Token"]=d;this._sendSyncIORequest({action:c,callback:f,entity:p,headers:k,
method:g,timeout:r,url:l})},_joinURL:function(a){var d=this.root;if(!d&&!a)return"";"/"===a.charAt(0)&&(a=a.substring(1));return d&&"/"===d.charAt(d.length-1)?d+a+"/":d+"/"+a},_parse:function(a){"function"===typeof this.parseIOResponse&&(a=this.parseIOResponse(a));return this.parse(a)},_sendSyncIORequest:function(c){return a.io(c.url,{arguments:{action:c.action,callback:c.callback,url:c.url},context:this,data:c.entity,headers:c.headers,method:c.method,timeout:c.timeout,on:{start:this._onSyncIOStart,
failure:this._onSyncIOFailure,success:this._onSyncIOSuccess,end:this._onSyncIOEnd}})},_substituteURL:function(c,d){if(!c)return"";var f={};a.Object.each(d,function(a,c){if(k.isString(a)||k.isNumber(a))f[c]=encodeURIComponent(a)});return k.sub(c,f)},_onSyncIOEnd:function(a,d){},_onSyncIOFailure:function(a,d,f){(a=f.callback)&&a({code:d.status,msg:d.statusText},d)},_onSyncIOSuccess:function(a,d,f){(a=f.callback)&&a(null,d)},_onSyncIOStart:function(a,d){}};a.namespace("ModelSync").REST=h},"3.17.2",{requires:["model",
"io-base","json-stringify"]})},359:function(q,n,a){var m=a(5)["default"],h=a(3)["default"];n=a(8);a=function(){function a(){h(this,a);this.generateActions("refresh","setUrl","removeLoadHandler")}m(a,[{key:"addLoadHandler",value:function(a,d){this.dispatch({key:a,callback:d})}}]);return a}();q.exports=n.createActions(a)},386:function(q,n){YUI.add("datatype-date-format",function(a,m){var h=function(a,d,f){"undefined"===typeof f&&(f=10);for(d+="";parseInt(a,10)<f&&1<f;f/=10)a=d+a;return a.toString()},
k={formats:{a:function(a,d){return d.a[a.getDay()]},A:function(a,d){return d.A[a.getDay()]},b:function(a,d){return d.b[a.getMonth()]},B:function(a,d){return d.B[a.getMonth()]},C:function(a){return h(parseInt(a.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(a){return h(parseInt(k.formats.G(a)%100,10),0)},G:function(a){var d=a.getFullYear(),f=parseInt(k.formats.V(a),10);a=parseInt(k.formats.W(a),10);a>f?d++:0===a&&52<=f&&d--;return d},H:["getHours","0"],I:function(a){a=a.getHours()%
12;return h(0===a?12:a,0)},j:function(a){var d=new Date(""+a.getFullYear()+"/1/1 GMT");a=new Date(""+a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" GMT")-d;a=parseInt(a/6E4/60/24,10)+1;return h(a,0,100)},k:["getHours"," "],l:function(a){a=a.getHours()%12;return h(0===a?12:a," ")},m:function(a){return h(a.getMonth()+1,0)},M:["getMinutes","0"],p:function(a,d){return d.p[12<=a.getHours()?1:0]},P:function(a,d){return d.P[12<=a.getHours()?1:0]},s:function(a,d){return parseInt(a.getTime()/1E3,10)},
S:["getSeconds","0"],u:function(a){a=a.getDay();return 0===a?7:a},U:function(a){var d=parseInt(k.formats.j(a),10);a=6-a.getDay();d=parseInt((d+a)/7,10);return h(d,0)},V:function(a){var d=parseInt(k.formats.W(a),10),f=(new Date(""+a.getFullYear()+"/1/1")).getDay(),d=d+(4<f||1>=f?0:1);53===d&&4>(new Date(""+a.getFullYear()+"/12/31")).getDay()?d=1:0===d&&(d=k.formats.V(new Date(""+(a.getFullYear()-1)+"/12/31")));return h(d,0)},w:"getDay",W:function(a){var d=parseInt(k.formats.j(a),10);a=7-k.formats.u(a);
d=parseInt((d+a)/7,10);return h(d,0,10)},y:function(a){return h(a.getFullYear()%100,0)},Y:"getFullYear",z:function(a){a=a.getTimezoneOffset();var d=h(parseInt(Math.abs(a/60),10),0),f=h(Math.abs(a%60),0);return(0<a?"-":"+")+d+f},Z:function(a){var d=a.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,"");4<d.length&&(d=k.formats.z(a));return d},"%":function(a){return"%"}},aggregates:{c:"locale",D:"%m/%d/%y",F:"%Y-%m-%d",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",
t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"},format:function(c,d){d=d||{};if(!a.Lang.isDate(c))return a.Lang.isValue(c)?c:"";var f,l;f=d.format||"%Y-%m-%d";l=a.Intl.get("datatype-date-format");for(var g=function(a,d){var c=k.aggregates[d];return"locale"===c?l[d]:c},m=function(d,g){var f=k.formats[g];switch(a.Lang.type(f)){case "string":return c[f]();case "function":return f.call(c,c,l);case "array":if("string"===a.Lang.type(f[0]))return h(c[f[0]](),f[1]);default:return g}};f.match(/%[cDFhnrRtTxX]/);)f=
f.replace(/%([cDFhnrRtTxX])/g,g);f=f.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,m);g=m=void 0;return f}};a.mix(a.namespace("Date"),k);a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",{lang:"ar ar-JO ca ca-ES da da-DK de de-AT de-DE el el-GR en en-AU en-CA en-GB en-IE en-IN en-JO en-MY en-NZ en-PH en-SG en-US es es-AR es-BO es-CL es-CO es-EC es-ES es-MX es-PE es-PY es-US es-UY es-VE fi fi-FI fr fr-BE fr-CA fr-FR hi hi-IN hu id id-ID it it-IT ja ja-JP ko ko-KR ms ms-MY nb nb-NO nl nl-BE nl-NL pl pl-PL pt pt-BR ro ro-RO ru ru-RU sv sv-SE th th-TH tr tr-TR vi vi-VN zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-Hant-TW".split(" ")})},
413:function(q,n,a){var m=a(5)["default"],h=a(3)["default"];n=a(20);var k=n.Map,c=n.fromJS;n=a(8);var d=a(59),f=a(46),l=a(192);a=function(){function a(){h(this,a);this.state=k();this.bindListeners({onSiteLayoutReset:[f.bootstrap,l.loadTemplate]});this.exportPublicMethods({getCollectionLinks:this.getCollectionLinks})}m(a,[{key:"onSiteLayoutReset",value:function(a){a=a.siteLayout;if(!a)return!1;var d=k();a.forEach(function(a){d=d.set(a.identifier,c(a))});this.setState(d)}},{key:"getCollectionLinks",
value:function(){return this.state.reduce(function(a,d){var c=d.toJS().links;a.push(c.filter(function(a){return!!a.collectionId}));return a},[])}}]);return a}();q.exports=n.createStore(d(a),"SiteNavigationStore")},498:function(q,n){YUI.add("datatype-date-math",function(a,m){var h=a.Lang;a.mix(a.namespace("Date"),{isValidDate:function(a){return h.isDate(a)&&isFinite(a)&&"Invalid Date"!=a&&!isNaN(a)&&null!=a?!0:!1},areEqual:function(a,c){return this.isValidDate(a)&&this.isValidDate(c)&&a.getTime()==
c.getTime()},isGreater:function(a,c){return this.isValidDate(a)&&this.isValidDate(c)&&a.getTime()>c.getTime()},isGreaterOrEqual:function(a,c){return this.isValidDate(a)&&this.isValidDate(c)&&a.getTime()>=c.getTime()},isInRange:function(a,c,d){return this.isGreaterOrEqual(a,c)&&this.isGreaterOrEqual(d,a)},addDays:function(a,c){return new Date(a.getTime()+864E5*c)},addMonths:function(a,c){var d=a.getFullYear(),f=a.getMonth()+c,d=Math.floor(d+f/12),f=(f%12+12)%12,l=new Date(a.getTime());l.setFullYear(d);
l.setMonth(f);return l},addYears:function(a,c){var d=a.getFullYear()+c,f=new Date(a.getTime());f.setFullYear(d);return f},listOfDatesInMonth:function(a){if(!this.isValidDate(a))return[];var c=this.daysInMonth(a),d=a.getFullYear();a=a.getMonth();for(var f=[],l=1;l<=c;l++)f.push(new Date(d,a,l,12,0,0));return f},daysInMonth:function(a){if(!this.isValidDate(a))return 0;var c=a.getMonth(),d=[31,28,31,30,31,30,31,31,30,31,30,31];if(1!=c)return d[c];a=a.getFullYear();return 0===a%400?29:0===a%100?28:0===
a%4?29:28}});a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",{requires:["yui-base"]})},499:function(q,n){YUI.add("datatype-date-parse",function(a,m){a.mix(a.namespace("Date"),{parse:function(h){h=new Date(+h||h);return a.Lang.isDate(h)?h:null}});a.namespace("Parsers").date=a.Date.parse;a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2")},510:function(q,n,a){var m=a(5)["default"],h=a(3)["default"];n=a(8);var k=a(546);a=function(){function a(){h(this,a);this.generateActions("saveSuccess")}
m(a,[{key:"save",value:function(a,c){var l=this;this.dispatch();return k.save(a,c).then(function(a){l.actions.saveSuccess(a)})}}]);return a}();q.exports=n.createActions(a)},546:function(q,n,a){var m=a(35)["default"],h=a(24);q.exports={save:function(a,c){c.tutorialsCompleted&&!(c.tutorialsCompleted instanceof Array)&&(c.tutorialsCompleted=m(c.tutorialsCompleted));return h.put("/api/member-website-settings/"+a,c)}}},547:function(q,n,a){var m=a(24);q.exports={getTemplate:function(a){return m.get("/api/templates/"+
a)}}},548:function(q,n,a){var m=a(24),h=a(411);q.exports={loadTemplateInstallations:function(){return m.get("/api/template-installations")},setLiveInstallation:function(a){return m.post("/api/template/SetTemplate",h.stringify({installationId:a}))},updateInstallation:function(a){return m.put("/api/template-installations/"+a.id,a)},setHomepageCollectionId:function(a){return m.post("/api/template/SetHomepageCollection",h.stringify({collectionId:a}))}}},595:function(q,n,a){n=a(184);var m=a(25);a=a(602);
q.exports={DEFAULT_COLLECTION_CONFIGURATIONS:{page:{collectionType:m.COLLECTION_TYPE_PAGE,typeName:"page",title:"Page",ordering:n.CUSTOM,icon:"page",addText:"Add Block"},"gallery-block":{collectionType:m.GALLERY_BLOCK,typeName:"gallery-block",title:"Gallery Block",ordering:n.USER,acceptTypes:["image","video"]},products:{collectionType:m.PRODUCTS,typeName:"products",title:"Products",pageSize:20,ordering:n.USER,acceptTypes:["store_item"],view:a.PRODUCT_TABLE,icon:"products",addText:"Add Product"},"template-page":{collectionType:m.TEMPLATE_PAGE,
title:"Template Page",icon:"projects"},"splash-page":{collectionType:m.SPLASH_PAGE,typeName:"splash-page",title:"Cover Page",ordering:n.CUSTOM,icon:"splash-page"},subscription:{collectionType:m.COLLECTION_TYPE_SUBSCRIPTION,typeName:"subscription",title:"Subscription",ordering:n.CHRONOLOGICAL}},DEFAULT_COLLECTION_CONFIGURATION:{collectionType:m.COLLECTION_TYPE_GENERIC,supported:!0},DEFAULT_TEMPLATE_PAGE_CONFIGURATION:{icon:"template-page",collectionType:m.TEMPLATE_PAGE,supported:!0,folder:!1}}},602:function(q,
n){q.exports={LIST:"list",GRID:"grid",PRODUCT:"product"}},691:function(q,n){YUI.add("squarespace-mixins-event-list",function(a){a.namespace("Squarespace.Mixins");a.Squarespace.Mixins.EventList=a.Base.create("EventList",a.Base,[],{initializer:function(){a.Do.before(function(m){var h=a.Object.hasKey(m,"upcoming"),k=a.Object.hasKey(m,"past");if(h&&k)return new a.Do.AlterArgs("Parsing calendar-specific response",[[].concat(m.upcoming).concat(m.past)])},this,"parse",this)},getPastEvents:function(){var m=
new Date;return this.filter(function(h){h=h.get("structuredContent");if(null===h)return!1;h=a.DataType.Date.parse(h.get("endDate"));return a.DataType.Date.isGreater(m,h)})},getUpcomingEvents:function(){var m=new Date;return this.filter(function(h){h=h.get("structuredContent");if(null===h)return!1;h=a.DataType.Date.parse(h.get("endDate"));return!a.DataType.Date.isGreater(m,h)})}})},"1.0",{requires:["base","datatype-date","event-custom","json"]})},693:function(q,n){YUI.add("squarespace-models-audio",
function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Audio=a.Base.create("Audio",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Audio",validator:function(a){return"Audio"===a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},audioAssetUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},artistName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},lengthInMilliSeconds:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},
bitRate:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},sampleRate:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},694:function(q,n){YUI.add("squarespace-models-calendar-event",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CalendarEvent=a.Base.create("CalendarEvent",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CalendarEvent",
validator:function(a){return"CalendarEvent"===a},readOnly:!0},startDate:{valueFn:function(){var a=new Date,h=a.getMinutes();a.setSeconds(0);a.setMilliseconds(0);30<=h?(a.addHours(1),a.setMinutes(0)):a.setMinutes(30);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber},endDate:{valueFn:function(){var a=new Date(this.get("startDate"));a.addHours(1);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},
695:function(q,n){YUI.add("squarespace-models-check-in",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CheckIn=a.Base.create("CheckIn",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CheckIn",validator:function(a){return"CheckIn"===a},readOnly:!0},checkinId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},venueId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
venueName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},address:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},crossStreet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},city:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},state:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},country:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},postalCode:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
categoryId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryPluralName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryShortName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryIcon:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},696:function(q,n,a){var m=a(25),h=a(372);YUI.add("squarespace-models-collection-configuration",
function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CollectionConfiguration=a.Base.create("CollectionConfiguration",a.Model,[],{initializer:function(c){a.Lang.isBoolean(c.index)&&c.index?this.set("folderBehavior",h.INDEX):a.Lang.isBoolean(c.folder)&&c.folder&&this.set("folderBehavior",h.NONE)}},{ATTRS:{collectionType:{value:m.COLLECTION_TYPE_GENERIC},folder:{value:!1},folderBehavior:{},supported:{value:!0}}})},"1.0",{requires:["base","model"]})},697:function(q,n,a){a(8);var m=a(181),
h=a(176),k=a(71),c=a(25),d=a(88),f=a(217),l=a(184);YUI.add("squarespace-models-content-collection",function(a){a.namespace("Squarespace.Models");var n=a.Squarespace.Models.ContentCollection=a.Base.create("Collection",a.Model,[],{initializer:function(d){this.publish("delete");this.items=d?new a.Squarespace.Models.ContentItemList({items:d.items||[],parent:this,limit:this.get("itemLimit")}):new a.Squarespace.Models.ContentItemList({parent:this,limit:this.get("itemLimit")});this._itemsEventHandle=this.items.after(["load",
"add","remove"],this._updateItemCount,this);this._syncFolderChange(this.get("folder"));this.after("folderChange",function(a){this._syncFolderChange(a.newVal)})},destructor:function(){this._itemsEventHandle.detach();this._itemsEventHandle=null;this.items.destroy();this.items=null},toDebugString:function(){return a.JSON.stringify(this.getAttrs(["navigationTitle","urlId","configureUrlId","id"]))},toJSON:function(){var a=this.constructor.superclass.toJSON.call(this);a.items=this.items.toJSON();return a},
parse:function(a){a=n.superclass.parse.apply(this,arguments);a.passwordProtected&&(a.password=d.PASSWORD_MASK);return a},sync:function(a,d,c){switch(a){case "create":this._ensureDemoCloneAndSave(c);break;case "delete":this.fire("delete");this._delete(c);break;case "read":this._read(d,c);break;case "update":this._ensureDemoCloneAndSave(c)}},load:function(d,c,f){"function"===typeof d&&(f=c,c=d,d={});if(this._readInProgress)this.onceAfter("load",c,f);else a.Model.prototype.load.call(this,d,c?a.bind(c,
f||this):null)},resetToLastRead:function(){this.setAttrs(this._lastReadData)},ensureProcessedItems:function(){var d=function(c){this.items.load({fields:["mediaProcessingState"]},function(){this.items.some(function(a){return a.get("mediaProcessingState")!==f.READY})?a.later(500,this,d,c):c()}.bind(this))}.bind(this);return new a.Promise(function(a){d(a)}.bind(this))},_syncFolderChange:function(a){a&&this.set("dropdown",!0)},_ensureDemoCloneAndSave:function(d){if(this._shouldCloneCollection()){var c=
this.toJSON();delete c.id;this.cloneToNewCollection({silent:!0}).then(a.bind(this._save,this,d,c))}else this._save(d)},_save:function(d,c){c=a.merge(c,this.toJSON());c.collectionId=c.id;delete c.tags;delete c.categories;delete c.mainImage;delete c.iTunesImage;delete c.items;c.metadata&&c.metadata.albumCover&&delete c.metadata.albumCover;var f=a.bind(function(c){a.Data.post({url:"/api/commondata/SaveCollection",data:c,success:function(c){this._lastReadData=a.clone(c);d(null,c)},failure:function(a){d(a,
null)}},this)},this);a.Lang.isValue(c.id)&&a.Lang.isNull(c.urlId)?a.Data.post({url:"/api/content-collections/"+c.id+"/generate-url",json:!0,data:{title:c.title,urlId:a.Squarespace.Utils.slugify(3>c.title.length?c.typeName+"-"+c.title:c.title),configureUrlId:a.Squarespace.Utils.slugify(this.get("configureUrlId"))},success:function(a){c.urlId=a.urlId;c.configureUrlId=a.configureUrlId;f(c)}}):f(c)},_delete:function(d){a.Data.post({url:"/api/commondata/RemoveCollection",data:{collectionId:this.get("id")},
success:function(a){d(null,a)},failure:function(a){d(a,null)}})},_read:function(d,c){this._readInProgress=!0;a.Data.get({url:"/api/commondata/GetCollection",data:{collectionId:this.get("id")},success:function(d){a.Squarespace.ContentCollectionUtils.usesDisplayIndex(d.ordering)?this._fetchItemCount(d.id).then(function(f){this._readInProgress=!1;d.itemCount=f;this._lastReadData=a.clone(d);c(null,d)}.bind(this)):(this._readInProgress=!1,this._lastReadData=a.clone(d),c(null,d))},failure:function(a){this._readInProgress=
!1;c(a,null)}},this)},_updateItemCount:function(){a.Squarespace.ContentCollectionUtils.usesDisplayIndex(this.get("ordering"))&&(this.isNew()?this.set("itemCount",0):this._fetchItemCount(this.get("id")).then(function(a){this.set("itemCount",a)}.bind(this)))},_fetchItemCount:function(d){return new a.Promise(function(c,f){a.Data.get({url:"/api/content-collections/"+d+"/item-count",success:function(a){c(a)},failure:f},this)})},getTemplateConfiguration:function(){var d;d=this.get("typeName");var f=this.get("type");
return(d=f===c.TEMPLATE_PAGE?k.getPageConfig(d):k.getCollectionConfig(d))?new a.Squarespace.Models.CollectionConfiguration(d):new a.Squarespace.Models.CollectionConfiguration({collectionType:f||c.COLLECTION_TYPE_GENERIC,ordering:this.get("ordering"),folder:this.get("folder"),supported:!1})},cloneToNewCollection:function(d){return new a.Promise(a.bind(function(c,f){var l=a.Squarespace.Singletons.TemplateNavigationList.getItemByCollectionId(this.get("id"));this._cloneExampleContent(d).then(a.bind(function(a){l.set("collectionId",
a);l.save(c)},this))},this))},_cloneExampleContent:function(d){d=d||{};var c=new a.Promise(a.bind(function(c,f){var l=this.get("id");a.Data.post({url:"/api/commondata/CopyCollection",data:{collectionId:this.get("id"),processPointedCollectionItems:!!d.processPointedCollectionItems},success:function(d){this.setAttrs(a.merge({mainImageId:null,mainImage:null},d));var k=d.id;m.getHomepageCollectionId()===l?h.setHomepageCollectionId(k).then(function(a){a.error?f():c(k)}):c(k)}},this)},this));c.then(a.bind(function(){this.fire("clonedExampleContent",
{silent:!!d.silent})},this));return c},_shouldCloneCollection:function(){return this.get("isDemoCollection")&&this.get("type")===c.COLLECTION_TYPE_PAGE},deleteTrashItems:function(d){a.Data.del({url:"/api/recycle-bin/collection/"+this.get("id")+"/items",success:function(a){d(a,null)},failure:function(a){d(null,a)}})},getId:function(){return this.get("id")},_set:function(a,d,c){return this.constructor.superclass._set.call(this,a,d,c)}},{ATTRS:{title:{validator:a.Lang.isString},navigationTitle:{validator:a.Lang.isString},
websiteId:{},id:{value:null},enabled:{value:!0,validator:a.Lang.isBoolean},deleted:{value:!1,validator:a.Lang.isBoolean},homepage:{validator:a.Lang.isBoolean},starred:{validator:a.Lang.isBoolean},synchronizing:{validator:a.Lang.isBoolean},updatedOn:{},folder:{value:!1},isDemoCollection:{getter:function(){return a.Squarespace.ContentCollectionUtils.isDemoCollectionId(this.get("id"))}},itemCountExceeded:{getter:function(){return this.get("type")==c.PRODUCTS&&this.get("itemCount")>=this.get("maxItemCount")?
!0:!1}},itemCount:{validator:a.Lang.isNumber},isEmpty:{getter:function(){return 0===this.items.size()}},maxItemCount:{getter:function(){return this.get("type")==c.PRODUCTS?200:9999}},tags:{value:[],validator:a.Lang.isArray},categories:{value:[],validator:a.Lang.isArray},pageSize:{validator:a.Lang.isNumber,valueFn:function(){if(this.getTemplateConfiguration().get("ordering")===l.CHRONOLOGICAL)return 20}},itemLimit:{value:20,validator:a.Squarespace.AttrValidators.isNumber},ordering:{validator:function(d){return a.Object.values(l).contains(d)}},
type:{validator:function(d){return a.Object.values(c).contains(d)}},typeName:{validator:a.Lang.isString},fullUrl:{validator:a.Lang.isString},urlId:{validator:a.Squarespace.AttrValidators.isNullOrString},configureUrlId:{getter:function(d){d="";a.Lang.isValue(this.get("id"))&&(d=this.get("id")+"-configure");return d}},nextDisplayIndex:{getter:function(){return this.get("itemCount")}},regionName:{value:"default",validator:function(d){return!a.Lang.isString(d)||0===d.length?!1:a.Object.keys(k.getState().layouts).contains(d)}},
postByEmailAddress:{getter:function(a){return a?a+"@"+Static.SQUARESPACE_CONTEXT.prodDomain:""}}}});a.Squarespace.Models.ContentCollectionList=a.Base.create("Collections",a.ModelList,[],{model:a.Squarespace.Models.ContentCollection,sync:function(d,c,f){"read"==d&&a.Data.get({url:"/api/commondata/GetCollections",success:function(d){f(null,a.Object.values(d.collections))},failure:function(a){f(a,null)}},this)},getCollectionById:function(d,c,f){var l=this.getById(d);l?c.call(f,l):(l=new a.Squarespace.Models.ContentCollection({id:d}),
l.load({},function(){this.add(l);c.call(f,l)},this))},getCollectionFromData:function(d,c){if(!d)return null;if(!d.id)throw"getCollectionFromData needs at least an ID in the data to work.";var f=this.getById(d.id);f?c||f.setAttrs(d):f=this.add(new a.Squarespace.Models.ContentCollection(d));return f}});a.Squarespace.Utils.isInDamaskFrame()?a.Squarespace.ContentCollectionCache=a.config.win.top.Y.Squarespace.ContentCollectionCache:a.Squarespace.ContentCollectionCache=new a.Squarespace.Models.ContentCollectionList},
"2.0",{requires:"base model model-list promise squarespace-models-collection-configuration squarespace-models-content-item squarespace-models-content-item-list squarespace-util".split(" ")})},698:function(q,n){YUI.add("squarespace-models-content-item-list",function(a){a.namespace("Squarespace.Models");var m=a.Squarespace.Models.ContentItemList=a.Base.create("ContentItemList",a.ModelList,[a.Squarespace.Mixins.EventList],{initializer:function(h){this.model=a.Squarespace.Models.ContentItem;h=h||{};(h=
h.items)&&this.reset(h)},sync:function(a,k,c){switch(a){case "create":console.error("Squarespace.Models.ContentItemList: Create not implemented.");break;case "delete":console.error("Squarespace.Models.ContentItemList: Create not implemented.");break;case "read":this._read(k,c);break;case "update":console.error("Squarespace.Models.ContentItemList: Create not implemented.")}},load:function(a,k){if(this.get("isChildItemList"))throw"Squarespace.Models.ContentItemList: Child items are loaded with their parent item. Loading them manually is not supported";
m.superclass.load.call(this,a,k)},removeItems:function(h,k){this.remove(h,{source:"bulk-remove"});var c=a.Array.map(h,function(a){var c=a.get("id");a.destroy();return c},this);a.Data.post({url:"/api/commondata/RemoveItems",data:{items:c},success:function(d){this.get("parent").load();a.Lang.isFunction(k)&&k(null,d);this.fire("bulk-remove",h)},failure:function(d){a.Lang.isFunction(k)&&k(d,null)}},this)},moveItems:function(h,k,c){if(this.get("isChildItemList"))throw"Squarespace.Models.ContentItemList: Moving child items is not currently supported.";
var d=a.Array.map(h,function(a){return this.remove(this.getById(a.get("id")))},this),f=k.get("id"),l=k.items;l.load(a.bind(function(){l.add(d)},this));var g=a.Array.map(d,function(a){a.set("collectionId",f);a.get("items").each(function(a){a.set("collectionId",f)});return a.get("id")},this);a.Data.post({url:"/api/commondata/MoveItems",data:{toCollectionId:f,items:g},success:function(d){this.get("parent").load();a.Lang.isFunction(c)&&c(null,d);this.fire("move-items",h,k)},failure:function(d){a.Lang.isFunction(c)&&
c(d,null)}},this)},reorderItems:function(h,k,c){var d=this.get("parent"),f={};this.get("isChildItemList")?(f.collectionId=d.get("collectionId"),f.parentId=d.get("id")):f.collectionId=d.get("id");var l=1===h.length,g;l?(h=h[0],g=this.indexOf(this.getById(h.get("id"))),this._reorder([h],k),0!==k&&(f.afterId=this.item(k-1).get("id")),f.itemId=h.get("id")):(this._reorder(h,k),0!==k&&(f.afterId=this.item(k-1).get("id")),h=a.Array.map(h,function(a){return a.get("id")},this),f.itemIds=a.JSON.stringify(h));
var m=a.bind(function(f){a.Data.post({url:"/api/commondata/ReorderItems",data:f,success:function(f){l&&(0===g||0===k)&&d.load();a.Lang.isUndefined(f.items)||a.Array.each(f.items,function(a,d){this.getById(a.id).set("displayIndex",a.displayIndex)},this);this.fire("reordered");a.Lang.isFunction(c)&&c(null,f);0<this._reorderQueue.size()&&m(thie._reorderQueue.next())},failure:function(d){a.Lang.isFunction(c)&&c(d,null)}},this)},this);this._reorderQueue||(this._reorderQueue=new a.Queue);this._reorderQueue.add(f);
m(this._reorderQueue.next())},_reorder:function(a,k){var c=a.map(function(a){return this.getById(a.get("id"))},this);this.remove(c,{onReorder:!0,source:"reorder"});this.add(c,{onReorder:!0,source:"reorder",index:k})},_read:function(h,k){var c=this.get("parent").get("id");a.Data.get({url:"/api/content-collections/"+c+"/content-items",data:a.merge({limit:this.get("limit")},h),success:function(a){this.set("pagination",{hasNextPage:a.hasNextPage,hasPreviousPage:a.hasPreviousPage,nextPageStart:a.nextPageStart,
previousPageStart:a.previousPageStart});k(null,a.results)},failure:function(a){k(a,null)}},this)}},{ATTRS:{parent:{value:null,validator:function(h){return h instanceof a.Squarespace.Models.ContentCollection||h instanceof a.Squarespace.Models.ContentItem}},isChildItemList:{getter:function(){return this.get("parent")instanceof a.Squarespace.Models.ContentItem}},pagination:{value:null},limit:{value:20,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:"base json model-list squarespace-mixins-event-list squarespace-models-content-collection squarespace-models-content-item squarespace-util".split(" ")})},
699:function(q,n,a){var m=a(240),h=a(217),k=a(131),c=a(421);YUI.add("squarespace-models-content-item",function(a){a.namespace("Squarespace.Models");var f=a.Squarespace.Models.ContentItem=a.Base.create("Item",a.Model,[a.Squarespace.ModelSync.REST],{root:"content-items",url:"content-items/{id}",load:function(){this.get("isGlobalFakeContentItem")&&(this.root="rest/global-content-items/",this.url="rest/global-content-items/{id}");f.superclass.load.apply(this,arguments)},initializer:function(c){this._needsJobListener()&&
this._bindJobListener();this._updateNextDisplayIndex();c=this.get("items");c.after(["add","remove"],function(){this._updateNextDisplayIndex()},this);this.items=c;a.Do.after(function(){var c=this.get("collectionId"),f=a.Squarespace.API_ROOT;a.Lang.isValue(c)&&(f+="content-collections/"+c+"/");f+=a.Do.currentRetVal;return new a.Do.AlterReturn("Adding prefix to url.",f)},this,"getURL",this)},destructor:function(){this._jobListener&&(this._jobListener.detach(),this._jobListener=null)},toJSON:function(){var c=
f.superclass.toJSON.call(this),g=c.structuredContent;a.Lang.isValue(g)&&(c.structuredContent=g.toJSON());c.items=c.items.toJSON();a.Lang.isObject(c.pushedServices)&&(c.pushedServices=a.Object.keys(c.pushedServices));a.Lang.isObject(c.pendingPushedServices)&&(c.pendingPushedServices=a.Object.keys(c.pendingPushedServices));return c},serialize:function(c){c=this.toJSON();delete c.items;delete c.author;delete c.fullUrl;delete c.assetUrl;delete c.resolved;delete c.postItemInjectCode;delete c.promotedBlock;
delete c.promotedBlockType;delete c.nextDisplayIndex;delete c.mediaIsUploading;delete c.hasFileData;delete c.isGlobalFakeContentItem;delete c.childrenGroups;delete c.colorData;return a.JSON.stringify(c)},save:function(c,g){this.isNew()||!a.Lang.isObject(c)||!c.fields?f.superclass.save.call(this,c,g):this._saveFields(c.fields,g)},autoSave:function(c,f){a.Lang.isFunction(c)?(f=c,c={}):a.Lang.isValue(c)||(c={});c.headers=a.merge(c.headers,{"X-AutoSave":!0});this.save(c,f)},like:function(c){a.Data.post({url:this.getURL()+
"/sentiment/like",success:function(f){a.Lang.isFunction(c)&&c(null,f)},failure:function(f){a.Lang.isFunction(c)&&c(f,null)}},this)},dislike:function(c){a.Data.post({url:this.getURL()+"/sentiment/dislike",success:function(f){a.Lang.isFunction(c)&&c(null,f)},failure:function(f){a.Lang.isFunction(c)&&c(f,null)}},this)},clearFileData:function(c){this.setAttrs({systemDataId:null,systemDataOrigin:null,mediaProcessingState:null,systemDataSourceType:null,systemDataVariants:null,filename:null});a.Data.post({url:"/api/commondata/ClearEmbeddedAsset",
data:{itemId:this.get("id"),persistTransient:!0===c}})},clearChildGroup:function(c,f){a.Data.post({url:"/api/commondata/ClearChildGroup",data:{childType:c,itemId:this.get("id")},success:function(c){a.Lang.isFunction(f)&&f(null,c)},failure:function(c){a.Lang.isFunction(f)&&f(c,null)}})},createConfiguration:function(c){c=a.merge(c,{model:this,title:"Back",panelPathName:this.get("name")||"newItem"});return new (a.Squarespace.ContentItemEditorFactory.getEditor(this,{variant:a.Squarespace.ContentItemEditorVariants.PANEL}))(c)},
getAssetUrlForFormat:function(c){return a.Lang.sub("{assetUrl}?format={format}",{assetUrl:this.get("assetUrl"),format:c})},getId:function(){return this.get("id")},isLicensedAssetPreview:function(){return a.Lang.isValue(this.get("licensedAssetPreview"))},isLicensedAsset:function(){return a.Lang.isValue(this.get("licensedAssetId"))},_needsJobListener:function(){var a=this.get("mediaProcessingState");return a===h.QUEUED||a===h.PROCESSING},_bindJobListener:function(){Static&&Static.JOB_MANAGER&&(this._jobListener=
a.config.win.Static.JOB_MANAGER.on("completed",function(c){var f=this.get("id"),h=c.get("data.contentItemId");c=c.get("data.globalContentItemId");h===f?(this.load(),this._jobListener.detach()):a.Lang.isValue(c)&&c===f&&(a.Data.get({url:"/api/rest/global-content-items/"+c,success:function(a){this.set("assetUrl",a.assetUrl);this.setAttrs(a)}},this),this._jobListener.detach())},this))},_updateNextDisplayIndex:function(){var a=0;this.get("items").each(function(c){c=c.get("displayIndex");c>=a&&(a=c+1)},
this);this._set("nextDisplayIndex",a)},_saveFields:function(c,f){if(1<c.length)throw Error("Saving multiple fields is not currently supported.");var h=c[0],h={field:h,itemId:this.get("id"),value:this.get(h)};a.Data.post({url:"/api/commondata/SaveItemField",data:a.merge({},h),success:function(c){a.Lang.isFunction(f)&&f(null,c.item)},failure:function(c){a.Lang.isFunction(f)&&f.call(c,null)}},this)},_getStructuredContentCtor:function(){switch(this.get("recordType")){case k.AUDIO:return a.Squarespace.Models.Audio;
case k.EVENT:return a.Squarespace.Models.CalendarEvent;case k.CHECKIN:return a.Squarespace.Models.CheckIn;case k.EMBED:case k.VIDEO:return a.Squarespace.Models.Embed;case k.INSTAGRAM:return a.Squarespace.Models.Instagram;case k.KBARTICLE:return a.Squarespace.Models.KBArticle;case k.LINK:return a.Squarespace.Models.Link;case k.QUOTE:return a.Squarespace.Models.Quote;case k.STORE_ITEM:return a.Squarespace.Models.StoreItem;case k.TWEET:return a.Squarespace.Models.Tweet;default:return null}}},{ATTRS:{id:{value:null},
collectionId:{value:null},parentId:{value:null},authorId:{valueFn:function(){var c=a.Object.getValue(Static,["SQUARESPACE_CONTEXT","authenticatedAccount"]);return c?c.id:null}},proxyForId:{value:null},recordType:{validator:a.Squarespace.AttrValidators.isValueIn(k),writeOnce:!0},childType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},addedOn:{valueFn:function(){return(new Date).getTime()},validator:a.Squarespace.AttrValidators.isNumber,writeOnce:"initOnly"},updatedOn:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrNumber,writeOnce:"initOnly"},publishOn:{valueFn:function(){return(new Date).getTime()},validator:a.Squarespace.AttrValidators.isNumber},unsaved:{value:null,validator:a.Squarespace.AttrValidators.isNullOrBoolean},urlId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},title:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},body:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},excerpt:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},
displayIndex:{value:0,validator:a.Squarespace.AttrValidators.isNumber},starred:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},passthrough:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},tags:{value:[],validator:a.Squarespace.AttrValidators.isArray},categories:{value:[],validator:a.Squarespace.AttrValidators.isArray},workflowState:{value:c.DRAFT,validator:a.Squarespace.AttrValidators.isValueIn(c)},systemDataId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
systemDataVariants:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},systemDataOrigin:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},contentType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},filename:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},dataSize:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},sourceUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},mediaProcessingState:{value:null,
validator:a.Squarespace.AttrValidators.isNullOr(a.Squarespace.AttrValidators.isValueIn(h))},mediaFocalPoint:{value:{x:0.5,y:0.5},setter:function(c){if(a.Lang.isString(c)){c=c.split(",");var f=parseFloat(c[0]);c=parseFloat(c[1]);return{x:!isNaN(f)&&1>=f?f:0.5,y:!isNaN(c)&&1>=c?c:0.5}}return c}},colorData:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},clickthroughUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},location:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},
customContent:{value:null},likeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},dislikeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},publicCommentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentState:{valueFn:function(){var c=a.Object.getValue(Static,["SQUARESPACE_CONTEXT","websiteSettings"]),f=c.commentsEnabled;return c.commentEnableByDefault||f?m.ENABLED:m.DISABLED},validator:a.Squarespace.AttrValidators.isValueIn(m)},
commentDisableOn:{valueFn:function(){var c=a.Object.getValue(Static,["SQUARESPACE_CONTEXT","websiteSettings","commentDisableAfterDaysDefault"]);return c?a.Date.addDays(new Date,c).getTime():null},validator:a.Squarespace.AttrValidators.isNullOrNumber},pushedServices:{value:{},validator:a.Squarespace.AttrValidators.isObject},shareStates:{value:[]},structuredContent:{valueFn:function(){var c=this._getStructuredContentCtor();return a.Lang.isNull(c)?null:new c},setter:function(c){if(c instanceof a.Squarespace.Models.StructuredContent)return c;
var f=this._getStructuredContentCtor();return a.Lang.isNull(f)?null:new f(c)}},items:{valueFn:function(){return new a.Squarespace.Models.ContentItemList({parent:this})},setter:function(c){var f=this.get("items");return a.Lang.isValue(f)?(f.reset(c),f):c instanceof a.Squarespace.Models.ContentItemList?c:new a.Squarespace.Models.ContentItemList({items:c,parent:this})}},childrenGroups:{value:{},validator:a.Squarespace.AttrValidators.isObject},author:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},
fullUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},assetUrl:{value:null,getter:function(c){return a.Squarespace.UrlUtils.isSecure()?a.Squarespace.UrlUtils.securifyURL(c):c},validator:a.Squarespace.AttrValidators.isNulLOrString},resolved:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},postItemInjectCode:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlock:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlockType:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},nextDisplayIndex:{value:0,validator:a.Squarespace.AttrValidators.isNumber,readOnly:!0},mediaIsUploading:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},hasFileData:{getter:function(){var c=this.get("mediaProcessingState")==h.QUEUED;return this.get("isGlobalFakeContentItem")?!this.isNew():"USER_UPLOAD"===this.get("systemDataOrigin")&&c?!0:c?!0:a.Lang.isValue(this.get("systemDataId"))}},isGlobalFakeContentItem:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},
licensedAssetPreview:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},licensedAssetId:{value:null,validator:a.Lang.isString},name:{getter:function(){return this.get("id")}},isPusher:{value:!0,readOnly:!0,validator:a.Squarespace.AttrValidators.isBoolean}}})},"1.0",{requires:"base json model squarespace-attr-validators squarespace-model-sync-rest squarespace-models-audio squarespace-models-calendar-event squarespace-models-check-in squarespace-models-content-item-list squarespace-models-embed squarespace-models-instagram squarespace-models-kb-article squarespace-models-link squarespace-models-quote squarespace-models-store-item squarespace-models-tweet squarespace-url-utils squarespace-util".split(" ")})},
700:function(q,n){YUI.add("squarespace-models-embed",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Embed=a.Base.create("Embed",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Embed",validator:function(a){return"Embed"===a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},oembed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},overlay:{value:!0,validator:a.Squarespace.AttrValidators.isBoolean}}})},"1.0",
{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},701:function(q,n){YUI.add("squarespace-models-instagram",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Instagram=a.Base.create("Instagram",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Instagram",validator:function(a){return"Instagram"===a},readOnly:!0},instagramId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
imageLowResolutionUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageThumbnailUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageStandardUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},width:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},height:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},filter:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userProfilePictureUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},userAccountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userDisplayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},702:function(q,n){YUI.add("squarespace-models-kb-article",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.KBArticle=a.Base.create("KBArticle",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"KBArticle",validator:function(a){return"KBArticle"===a},readOnly:!0},upVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber},downVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},703:function(q,n){YUI.add("squarespace-models-link",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Link=a.Base.create("Link",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"Link",validator:function(a){return"Link"===a},readOnly:!0},url:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},704:function(q,n){YUI.add("squarespace-models-quote",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Quote=a.Base.create("Quote",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Quote",validator:function(a){return"Quote"===
a},readOnly:!0},quote:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},705:function(q,n,a){var m=a(77);YUI.add("squarespace-models-store-item",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.StoreItem=a.Base.create("StoreItem",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"StoreItem",validator:function(a){return"StoreItem"===a},readOnly:!0},
productType:{value:m.PHYSICAL,validator:a.Squarespace.AttrValidators.isValueIn(m)},priceCents:{value:0,validator:a.Squarespace.AttrValidators.isNumber},salePriceCents:{value:0,validator:a.Squarespace.AttrValidators.isNumber},onSale:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},variants:{value:[],validator:a.Squarespace.AttrValidators.isArray},originalVariants:{value:[],validator:a.Squarespace.AttrValidators.isArray},variantOptionOrdering:{value:[],validator:a.Squarespace.AttrValidators.isArray},
additionalFieldsFormId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},customAddButtonText:{value:"Add to Cart",validator:a.Squarespace.AttrValidators.isString},useCustomAddButtonText:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},additionalFieldsForm:{value:null}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},706:function(q,n){YUI.add("squarespace-models-structured-content",function(a){a.namespace("Squarespace.Models");
a.Squarespace.Models.StructuredContent=a.Base.create("StructuredContent",a.Model,[],{},{ATTRS:{_type:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString,writeOnce:"initOnly"}}})},"1.0",{requires:["base","model","squarespace-attr-validators"]})},707:function(q,n){YUI.add("squarespace-models-tweet",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Tweet=a.Base.create("Tweet",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Tweet",validator:function(a){return"Tweet"===
a},readOnly:!0},tweetId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},displayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},tweet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrlHttps:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userLocation:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},2324:function(q,n){YUI.add("squarespace-simple-liking",function(a){var m=a.config.win.Static;a.Squarespace.SimpleLike={TEXT_LIKE_VERB_NONE:"No Likes",TEXT_LIKE_VERB_SINGULAR:"Like",
TEXT_LIKE_VERB_PLURAL:"Likes",TEXT_LIKE_ACTIVATED:"You like this",TEXT_LIKE_SUGGEST:"Click to like",attached:!1,attach:function(){if(!this.attached){this.attached=!0;var h;try{localStorage&&((h=a.JSON.parse(localStorage.getItem("squarespace-likes")))||(h={}),localStorage.setItem("squarespace-likes",a.JSON.stringify(h)))}catch(k){h={}}a.delegate("click",function(c){c=c.currentTarget;var d=c.getAttribute("data-item-id");if(d){for(var f=0;5>f;++f)a.Squarespace.SimpleLike.burst(c);if(!c.hasClass("clicked")&&
!c.hasClass("float")){f=parseInt(c.getAttribute("data-like-count"),10);c.setAttribute("data-like-count",f+1);a.Squarespace.SimpleLike.renderLikeCount(c);c.addClass("clicked");try{localStorage&&(h[d]=!0,localStorage.setItem("squarespace-likes",a.JSON.stringify(h)))}catch(k){console.warn("Unable to save like to local storage: ",k)}(new a.Squarespace.Models.ContentItem({id:d})).like(function(c,d){d.commited&&console.log("Like was counted!");a.Lang.isValue(c)&&c.crumbFail&&!a.Squarespace.Utils.areCookiesEnabled()&&
alert("You need to enable cookies to be able to like something.")})}}},"body",".sqs-simple-like");a.all(".sqs-simple-like").each(function(c){var d=c.getAttribute("data-item-id");d&&(m.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled||c.remove(),h[d]&&c.addClass("clicked"),a.Squarespace.SimpleLike.renderLikeCount(c))})}},renderLikeCount:function(h){var k=h.getAttribute("data-item-id"),c=h.getAttribute("data-like-count");h=h.one(".like-count");k&&h&&(k="",k=0===c?a.Squarespace.SimpleLike.TEXT_LIKE_VERB_NONE:
1==c?"1 "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_SINGULAR:c+" "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_PLURAL,h.setContent(k))},burst:function(h){var k=h.cloneNode(!0);k.one(".like-count")&&k.one(".like-count").remove();var c=h.one(".like-icon");if(!c||"none"===c.getStyle("display"))c=h;k.setStyles({position:"absolute",left:c.getX()+"px",top:c.getY()+"px"});a.one(a.config.doc.body).append(k);h=new a.Anim({node:k,duration:2,easing:a.Easing.easeOut});h.set("to",{curve:a.Squarespace.SimpleLike.randomCurve(k)});
h.on("end",function(){this.get("node").remove()});h.run();k.removeClass("clicked");k.addClass("float")},randomCurve:function(a){var k=[],c=Math.floor(2*Math.random())?1:-1,d=Math.floor(2*Math.random())?1:-1,f=a.getX();a=a.getY();for(var l=0;3>l;++l)f+=Math.floor(30*Math.random())*c,a+=Math.floor(30*Math.random())*d,k.push([f,a]);return k}};a.config.win.Squarespace.onInitialize(a,function(){m.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled&&a.Squarespace.SimpleLike.attach()})},1,{requires:["anim",
"node","json","squarespace-models-content-item","squarespace-util"]})}});
